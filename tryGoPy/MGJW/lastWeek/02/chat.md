<!--
 * @Author: LetMeFly
 * @Date: 2025-03-17 10:05:55
 * @LastEditors: LetMeFly.xyz
 * @LastEditTime: 2025-03-20 23:09:31
-->
讲好一个故事：

AB两公司都是以安全为主业的公司，B公司为了测试A公司的安全保密程度是否可靠，向A公司发起了挑战，以成功将A公司的核心电脑上的一些信息传输出来为目标。

A公司接受了这一挑战，为了防止A公司核心电脑上的内容遭到泄露，A公司将核心电脑修改为只能连接内网，A公司认为，由于B公司无法访问A公司内网，所以这样就会尽可能地安全。

但是A公司的核心电脑在某些时候仍然需要被使用，因为疫情等原因A公司有员工使用非核心电脑在家远程办公。A公司的主管有时需要使用核心电脑通过内网和非核心成员进行沟通。

B公司决定利用这一特性，想要通过A公司将邮件通过内网发送给能连接外网的非核心电脑这一特性来将核心电脑的信息传输出来。

假设B公司已经利用已有漏洞在A公司的电脑上植入了一些脚本，这些脚本可以进行如下操作：

1. 对于A公司不能联网的核心电脑，脚本读取核心电脑上的一些信息。并在核心电脑上静默安装可信任证书，使用mitmproxy工具，在核心电脑使用邮件客户端（实际上走的HTTPS协议）发送消息时，将想要传输的消息编码加密并以一定的格式附加到邮件的末尾。
2. 对于A公司能联网的非核心电脑，脚本同样通过mitmproxy，在非核心成员通过网页读取邮件时，读取邮件中附加的内容并解码，将邮件内容还原。之后由于非核心电脑能够连接公网，脚本可以直接往B公司预留接口发送加密后的信息，至此A公司只能连接内网的核心电脑上的一部分信息也被隐式地传输了出来。

这样，核心电脑和非核心电脑所能看到的都是正常的邮件，A公司很难察觉。因此，B公司胜利，成功证明了以安全为主业的A公司仍然存在安全保障不周的漏洞。

---

现在，请你仔细阅读并理解上述故事，拓展并讲好这个故事。不需要突出“通过漏洞利用植入脚本”，只需要突出通过篡改数据包隐式传输数据的这一过程。整个过程越详细、易懂越好。


不错，但请进行如下小修改：

1. 内网邮件不需要国密SM9算法加密，就是使用的自建OWA(outlook web app)和Exchange服务器这种进行的邮件发送

不错，但请进行如下小修改：

1. 不需要修改请求头，只需要将内容隐藏到正文中。
2. 核心电脑上植入的脚本不主动发送邮件，而是主管主动发送邮件时，拦截篡改正文内容，实现邮件的发送。


很棒，接下来请你就要实现的细节（不包含脚本注入）进行描述。描述方式为：

xxx(一个具体小步骤)实现细节：xxx

xxx(一个具体小步骤)实现细节：xxx

并对其可行性进行论证以证明其是可行的。

---

设计一种隐蔽编码方式，在一个类似HTML的文件中插入隐藏信息，不需要保证HTML渲染结果无变化，只需要保证接收方使用mitmproxy脚本拦截后可以提取隐蔽信息并还原。
