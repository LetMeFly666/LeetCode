split-message-based-on-limit