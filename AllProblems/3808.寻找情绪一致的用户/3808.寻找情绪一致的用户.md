---
title: 3808.寻找情绪一致的用户
date: 2026-02-10 23-00-20
tags: [题解, LeetCode, 中等, ]
---

# 【LetMeFly】3808.寻找情绪一致的用户

力扣题目链接：[https://leetcode.cn/problems/find-emotionally-consistent-users/](https://leetcode.cn/problems/find-emotionally-consistent-users/)

<p>表：<code>reactions</code></p>

<pre>
+--------------+---------+
| Column Name  | Type    |
+--------------+---------+
| user_id      | int     |
| content_id   | int     |
| reaction     | varchar |
+--------------+---------+
(user_id, content_id) 是这张表的主键（值互不相同）。
每一行代表用户对某条内容的反应。
</pre>

<p>根据以下要求编写一个解决方案，以识别 <strong>情绪一致的用户</strong>：</p>

<ul>
	<li>为每个用户统计他们发送的总反应次数。</li>
	<li>仅包含 <strong>至少对 </strong><code>5</code><strong> 个不同内容项</strong> 作出反应的用户。</li>
	<li>如果用户 <strong>至少</strong> <code>60%</code> 的反应属于 <strong>同一种类型</strong>，则认为其 <strong>情绪一致</strong>。</li>
</ul>

<p>返回结果表按&nbsp;<code>reaction_ratio</code> <strong>降序</strong>&nbsp;排序，然后按&nbsp;<code>user_id</code> <strong>升序</strong>&nbsp;排序。</p>

<p><strong>注意：</strong></p>

<ul>
	<li><code>reaction_ratio</code>&nbsp;应该舍入到&nbsp;<code>2</code>&nbsp;位小数</li>
</ul>

<p>结果格式如下所示。</p>

<p>&nbsp;</p>

<p><strong class="example">示例：</strong></p>

<div class="example-block">
<p><strong>输入：</strong></p>

<p>reactions 表：</p>

<pre class="example-io">
+---------+------------+----------+
| user_id | content_id | reaction |
+---------+------------+----------+
| 1       | 101        | like     |
| 1       | 102        | like     |
| 1       | 103        | like     |
| 1       | 104        | wow      |
| 1       | 105        | like     |
| 2       | 201        | like     |
| 2       | 202        | wow      |
| 2       | 203        | sad      |
| 2       | 204        | like     |
| 2       | 205        | wow      |
| 3       | 301        | love     |
| 3       | 302        | love     |
| 3       | 303        | love     |
| 3       | 304        | love     |
| 3       | 305        | love     |
+---------+------------+----------+
</pre>

<p><strong>输出：</strong></p>

<pre class="example-io">
+---------+-------------------+----------------+
| user_id | dominant_reaction | reaction_ratio |
+---------+-------------------+----------------+
| 3       | love              | 1.00           |
| 1       | like              | 0.80           |
+---------+-------------------+----------------+
</pre>

<p><strong>解释：</strong></p>

<ul>
	<li><strong>用户 1：</strong>

	<ul>
		<li>总反应数&nbsp;= 5</li>
		<li>'like' 出现了 4 次</li>
		<li>reaction_ratio = 4 / 5 = 0.80</li>
		<li>满足 60% 一致的要求</li>
	</ul>
	</li>
	<li><strong>用户 2：</strong>
	<ul>
		<li>总反应数 = 5</li>
		<li>出现最多的反应只出现了 2 次</li>
		<li>reaction_ratio = 2 / 5 = 0.40</li>
		<li>不满足一致的要求</li>
	</ul>
	</li>
	<li><strong>用户 3：</strong>
	<ul>
		<li>总反应数 = 5</li>
		<li>'love' 出现了 5 次</li>
		<li>reaction_ratio = 5 / 5 = 1.00</li>
		<li>满足一致的要求</li>
	</ul>
	</li>
</ul>

<p>结果表按 reaction_ratio 降序排序，然后按 user_id 升序排序。</p>
</div>


    