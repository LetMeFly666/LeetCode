<h2><a id="LetMeFly3192_1__II_1"></a>【LetMeFly】3192.使二进制数组全部等于 1 的最少操作次数 II：位运算模拟</h2> <br><p>力扣题目链接：<a href="https://leetcode.cn/problems/minimum-operations-to-make-binary-array-elements-equal-to-one-ii/" rel="nofollow">https://leetcode.cn/problems/minimum-operations-to-make-binary-array-elements-equal-to-one-ii/</a></p> <br><p>给你一个二进制数组 <code>nums</code> 。</p> <br><p>你可以对数组执行以下操作 <strong>任意</strong> 次（也可以 0 次）：</p> <br><ul><li>选择数组中 <strong>任意</strong> 一个下标 <code>i</code> ，并将从下标 <code>i</code> 开始一直到数组末尾 <strong>所有</strong> 元素 <strong>反转</strong> 。</li></ul> <br><p><b>反转</b> 一个元素指的是将它的值从 0 变 1 ，或者从 1 变 0 。</p> <br><p>请你返回将 <code>nums</code> 中所有元素变为 1 的 <strong>最少</strong> 操作次数。</p> <br><p> </p> <br><p><strong class="example">示例 1：</strong></p> <br><div class="example-block"> <br> <p><span class="example-io"><b>输入：</b>nums = [0,1,1,0,1]</span></p> <br></div> <br><p><span class="example-io"><b>输出：</b>4</span></p> <br><p><strong>解释：</strong><br /> 我们可以执行以下操作：</p> <br><ul><li>选择下标 <code>i = 1</code> 执行操作，得到<span class="example-io"> <code>nums = [0,<u><strong>0</strong></u>,<u><strong>0</strong></u>,<u><strong>1</strong></u>,<u><strong>0</strong></u>]</code> 。</span></li><li>选择下标 <code>i = 0</code> 执行操作，得到<span class="example-io"> <code>nums = [<u><strong>1</strong></u>,<u><strong>1</strong></u>,<u><strong>1</strong></u>,<u><strong>0</strong></u>,<u><strong>1</strong></u>]</code> 。</span></li><li>选择下标 <code>i = 4</code> 执行操作，得到<span class="example-io"> <code>nums = [1,1,1,0,<u><strong>0</strong></u>]</code> 。</span></li><li>选择下标 <code>i = 3</code> 执行操作，得到<span class="example-io"> <code>nums = [1,1,1,<u><strong>1</strong></u>,<u><strong>1</strong></u>]</code> 。</span></li></ul> <br><p><strong class="example">示例 2：</strong></p> <br><div class="example-block"> <br> <p><span class="example-io"><b>输入：</b>nums = [1,0,0,0]</span></p> <br></div> <br><p><span class="example-io"><b>输出：</b>1</span></p> <br><p><strong>解释：</strong><br /> 我们可以执行以下操作：</p> <br><ul><li>选择下标 <code>i = 1</code> 执行操作，得到<span class="example-io"> <code>nums = [1,<u><strong>1</strong></u>,<u><strong>1</strong></u>,<u><strong>1</strong></u>]</code> 。</span></li></ul> <br><p> </p> <br><p><strong>提示：</strong></p> <br><ul><li><code>1 <= nums.length <= 10<sup>5</sup></code></li><li><code>0 <= nums[i] <= 1</code></li></ul> <br><h3><a id="_63"></a>解题方法：位运算模拟</h3> <br><p>类似于<a href="https://blog.letmefly.xyz/2024/10/18/LeetCode%203191.%E4%BD%BF%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%95%B0%E7%BB%84%E5%85%A8%E9%83%A8%E7%AD%89%E4%BA%8E1%E7%9A%84%E6%9C%80%E5%B0%91%E6%93%8D%E4%BD%9C%E6%AC%A1%E6%95%B0I/" rel="nofollow">LeetCode 3191.使二进制数组全部等于 1 的最少操作次数 I</a>，本题也从前到后<strong>模拟</strong>，遇到0则翻转一次即可。</p> <br><p>但是不用真的翻转，因为翻转偶数次相当于没有翻转，所以使用一个变量<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>     <br>      <br>       <br>       <br>         o <br>        <br>       <br>         r <br>        <br>       <br>         i <br>        <br>       <br>         g <br>        <br>       <br>         i <br>        <br>       <br>         n <br>        <br>       <br>         a <br>        <br>       <br>         l <br>        <br>       <br>      <br>        original <br>       <br>      <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">or</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right: 0.0359em;">g</span><span class="mord mathnormal">ina</span><span class="mord mathnormal" style="margin-right: 0.0197em;">l</span></span></span></span></span>记录是否未翻转即可。</p> <br><p><strong>需要翻转 ⇔ (n XOR original)为true</strong></p> <br><p>用<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>     <br>      <br>       <br>       <br>         n <br>        <br>       <br>      <br>        n <br>       <br>      <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>代表当前元素，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>     <br>      <br>       <br>       <br>         o <br>        <br>       <br>      <br>        o <br>       <br>      <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">o</span></span></span></span></span>代表是否为原始值，则有：</p> <br><table><thead><tr><th align="center">n</th><th align="center">o</th><th align="center">是否需要翻转</th></tr></thead><tbody><tr><td align="center">0</td><td align="center">0</td><td align="center">×</td></tr><tr><td align="center">0</td><td align="center">1</td><td align="center">√</td></tr><tr><td align="center">1</td><td align="center">0</td><td align="center">√</td></tr><tr><td align="center">1</td><td align="center">1</td><td align="center">×</td></tr></tbody></table> <br><p><strong>翻转只需要(original XOR= 1)</strong></p> <br><p>一旦需要翻转，则original的值需要由0变1或1变0，也就是说original异或一个1即可。</p> <br><p><strong>时空复杂度分析</strong></p> <br><ul><li>时间复杂度<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>      <br>       <br>        <br>        <br>          O <br>         <br>        <br>          ( <br>         <br>        <br>          l <br>         <br>        <br>          e <br>         <br>        <br>          n <br>         <br>        <br>          ( <br>         <br>        <br>          n <br>         <br>        <br>          u <br>         <br>        <br>          m <br>         <br>        <br>          s <br>         <br>        <br>          ) <br>         <br>        <br>          ) <br>         <br>        <br>       <br>         O(len(nums)) <br>        <br>       <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.0197em;">l</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal">u</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span><span class="mclose">))</span></span></span></span></span></li><li>空间复杂度<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>      <br>       <br>        <br>        <br>          O <br>         <br>        <br>          ( <br>         <br>        <br>          1 <br>         <br>        <br>          ) <br>         <br>        <br>       <br>         O(1) <br>        <br>       <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span></li></ul> <br><h4><a id="AC_89"></a>AC代码</h4> <br><h5><a id="C_91"></a>C++</h5> <br><pre><code class="prism language-cpp"><span class="token comment">/*<br>01101<br>10010<br>11101<br>11110<br>11111<br><br><br>n o<br>0 1 翻<br>0 0 不<br>1 1 不<br>1 0 翻<br>*/</span><br><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span><br><span class="token keyword">public</span><span class="token operator">:</span><br>    <span class="token keyword">int</span> <span class="token function">minOperations</span><span class="token punctuation">(</span>vector<span class="token operator"><</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> original <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><br>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> t <span class="token operator">:</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">^</span> original<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>                ans<span class="token operator">++</span><span class="token punctuation">;</span><br>                original <span class="token operator">^=</span> <span class="token number">1</span><span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br></code></pre> <br><h5><a id="Go_123"></a>Go</h5> <br><pre><code class="prism language-go"><span class="token keyword">package</span> main<br><br><span class="token keyword">func</span> <span class="token function">minOperations</span><span class="token punctuation">(</span>nums <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{<!-- --></span><br>    ans<span class="token punctuation">,</span> original <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><br>    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> t <span class="token operator">:=</span> <span class="token keyword">range</span> nums <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">if</span> t <span class="token operator">^</span> original <span class="token operator">==</span> <span class="token number">1</span> <span class="token punctuation">{<!-- --></span><br>            ans<span class="token operator">++</span><br>            original <span class="token operator">^=</span> <span class="token number">1</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">return</span> ans<br><span class="token punctuation">}</span><br></code></pre> <br><h5><a id="Java_140"></a>Java</h5> <br><pre><code class="prism language-java"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span><br>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">minOperations</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> original <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><br>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> t <span class="token operator">:</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>t <span class="token operator">^</span> original<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>                ans<span class="token operator">++</span><span class="token punctuation">;</span><br>                original <span class="token operator">^=</span> <span class="token number">1</span><span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br></code></pre> <br><h5><a id="Python_157"></a>Python</h5> <br><pre><code class="prism language-python"><span class="token keyword">from</span> typing <span class="token keyword">import</span> List<br><br><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span><br>    <span class="token keyword">def</span> <span class="token function">minOperations</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> nums<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span><br>        ans<span class="token punctuation">,</span> original <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><br>        <span class="token keyword">for</span> t <span class="token keyword">in</span> nums<span class="token punctuation">:</span><br>            <span class="token keyword">if</span> t <span class="token operator">^</span> original<span class="token punctuation">:</span><br>                ans <span class="token operator">+=</span> <span class="token number">1</span><br>                original <span class="token operator">^</span><span class="token operator">=</span> <span class="token number">1</span><br>        <span class="token keyword">return</span> ans<br></code></pre> <br><blockquote> <br> <p>同步发文于CSDN和我的<a href="https://blog.letmefly.xyz/" rel="nofollow">个人博客</a>，原创不易，转载经作者同意后请附上<a href="https://blog.letmefly.xyz/2024/10/19/LeetCode%203192.%E4%BD%BF%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%95%B0%E7%BB%84%E5%85%A8%E9%83%A8%E7%AD%89%E4%BA%8E1%E7%9A%84%E6%9C%80%E5%B0%91%E6%93%8D%E4%BD%9C%E6%AC%A1%E6%95%B0II/" rel="nofollow">原文链接</a>哦~</p> <br> <p>Tisfy：<a href="https://letmefly.blog.csdn.net/article/details/143066863" rel="nofollow">https://letmefly.blog.csdn.net/article/details/143066863</a></p> <br></blockquote>