<h2><a id="LetMeFly2944On2_1"></a>【LetMeFly】2944.购买水果需要的最少金币数：动态规划（O(n^2)复杂度，非最优算法）</h2> <br><p>力扣题目链接：<a href="https://leetcode.cn/problems/minimum-number-of-coins-for-fruits/" rel="nofollow">https://leetcode.cn/problems/minimum-number-of-coins-for-fruits/</a></p> <br><p>给你一个 <strong>下标从 1 开始的</strong> 整数数组 <code>prices</code> ，其中 <code>prices[i]</code> 表示你购买第 <code>i</code> 个水果需要花费的金币数目。</p> <br><p>水果超市有如下促销活动：</p> <br><ul><li>如果你花费 <code>prices[i]</code> 购买了下标为 <code>i</code> 的水果，那么你可以免费获得下标范围在 <code>[i + 1, i + i]</code> 的水果。</li></ul> <br><p><strong>注意</strong> ，即使你 <strong>可以</strong> 免费获得水果 <code>j</code> ，你仍然可以花费 <code>prices[j]</code> 个金币去购买它以获得它的奖励。</p> <br><p>请你返回获得所有水果所需要的 <strong>最少</strong> 金币数。</p> <br><p> </p> <br><p><strong class="example">示例 1：</strong></p> <br><div class="example-block"> <br> <p><strong>输入：</strong><span class="example-io">prices = [3,1,2]</span></p> <br></div> <br><p><strong>输出：</strong><span class="example-io">4</span></p> <br><p><strong>解释：</strong></p> <br><ul><li>用 <code>prices[0] = 3</code> 个金币购买第 1 个水果，你可以免费获得第 2 个水果。</li><li>用 <code>prices[1] = 1</code> 个金币购买第 2 个水果，你可以免费获得第 3 个水果。</li><li>免费获得第 3 个水果。</li></ul> <br><p>请注意，即使您可以免费获得第 2 个水果作为购买第 1 个水果的奖励，但您购买它是为了获得其奖励，这是更优化的。</p> <br><p><strong class="example">示例 2：</strong></p> <br><div class="example-block"> <br> <p><strong>输入：</strong><span class="example-io">prices = [1,10,1,1]</span></p> <br></div> <br><p><strong>输出：</strong><span class="example-io">2</span></p> <br><p><strong>解释：</strong></p> <br><ul><li>用 <code>prices[0] = 1</code> 个金币购买第 1 个水果，你可以免费获得第 2 个水果。</li><li>免费获得第 2 个水果。</li><li>用 <code>prices[2] = 1</code> 个金币购买第 3 个水果，你可以免费获得第 4 个水果。</li><li>免费获得第 4 个水果。</li></ul> <br><p><strong class="example">示例 3：</strong></p> <br><div class="example-block"> <br> <p><strong>输入：</strong><span class="example-io">prices = [26,18,6,12,49,7,45,45]</span></p> <br></div> <br><p><strong>输出：</strong><span class="example-io">39</span></p> <br><p><strong>解释：</strong></p> <br><ul><li>用 <code>prices[0] = 26</code> 个金币购买第 1 个水果，你可以免费获得第 2 个水果。</li><li>免费获得第 2 个水果。</li><li>用 <code>prices[2] = 6</code> 个金币购买第 3 个水果，你可以免费获得第 4，5，6（接下来的三个）水果。</li><li>免费获得第 4 个水果。</li><li>免费获得第 5 个水果。</li><li>用 <code>prices[5] = 7</code> 个金币购买第 6 个水果，你可以免费获得第 7 和 第 8 个水果。</li><li>免费获得第 7 个水果。</li><li>免费获得第 8 个水果。</li></ul> <br><p>请注意，即使您可以免费获得第 6 个水果作为购买第 3 个水果的奖励，但您购买它是为了获得其奖励，这是更优化的。</p> <br><p> </p> <br><p><strong>提示：</strong></p> <br><ul><li><code>1 <= prices.length <= 1000</code></li><li><code>1 <= prices[i] <= 10<sup>5</sup></code></li></ul> <br><h3><a id="_88"></a>解题方法：动态规划</h3> <br><p>创建<code>buy</code>数组和<code>notBuy</code>数组，其中：</p> <br><ol><li><code>buy[i]</code>代表<strong>购买</strong>下标为<code>i</code>的水果话，获得<code>[0, i]</code>的水果所需的最小花费</li><li><code>notBuy[i]</code>代表<strong>不购买</strong>下标为<code>i</code>的水果话，获得<code>[0, i]</code>的水果所需的最小花费</li></ol> <br><p>因此很容易想到状态转移方程：</p> <br><ol><li>购买下标为<code>i</code>的水果的话，可以在购买和不购买<code>i - 1</code>这两种方案中，选择最优的那个：<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>      <br>       <br>        <br>        <br>          b <br>         <br>        <br>          u <br>         <br>        <br>          y <br>         <br>        <br>          [ <br>         <br>        <br>          i <br>         <br>        <br>          ] <br>         <br>        <br>          = <br>         <br>        <br>          min <br>         <br>        <br>          ⁡ <br>         <br>        <br>          ( <br>         <br>        <br>          b <br>         <br>        <br>          u <br>         <br>        <br>          y <br>         <br>        <br>          [ <br>         <br>        <br>          i <br>         <br>        <br>          − <br>         <br>        <br>          1 <br>         <br>        <br>          ] <br>         <br>        <br>          , <br>         <br>        <br>          n <br>         <br>        <br>          o <br>         <br>        <br>          t <br>         <br>        <br>          B <br>         <br>        <br>          u <br>         <br>        <br>          y <br>         <br>        <br>          [ <br>         <br>        <br>          i <br>         <br>        <br>          − <br>         <br>        <br>          1 <br>         <br>        <br>          ] <br>         <br>        <br>          ) <br>         <br>        <br>          + <br>         <br>        <br>          p <br>         <br>        <br>          r <br>         <br>        <br>          i <br>         <br>        <br>          c <br>         <br>        <br>          e <br>         <br>        <br>          s <br>         <br>        <br>          [ <br>         <br>        <br>          i <br>         <br>        <br>          ] <br>         <br>        <br>       <br>         buy[i] = \min(buy[i - 1], notBuy[i - 1]) + prices[i] <br>        <br>       <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">b</span><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mop">min</span><span class="mopen">(</span><span class="mord mathnormal">b</span><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right: 0.0502em;">tB</span><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">])</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right: 0.0278em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal">ces</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span></span></li><li>不购买下标为<code>i</code>的水果的话，可以在购买了下标为<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>      <br>       <br>        <br>        <br>          [ <br>         <br>        <br>          ⌊ <br>         <br>         <br>         <br>           i <br>          <br>         <br>           2 <br>          <br>         <br>        <br>          ⌋ <br>         <br>        <br>          , <br>         <br>        <br>          i <br>         <br>        <br>          ) <br>         <br>        <br>       <br>         [ \lfloor\frac{i}2\rfloor, i) <br>        <br>       <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.2007em; vertical-align: -0.345em;"></span><span class="mopen">[⌊</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8557em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.345em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">⌋</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span></span>的水果的基础上，免费获得下标为<code>i</code>的水果：<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>      <br>       <br>        <br>        <br>          n <br>         <br>        <br>          o <br>         <br>        <br>          t <br>         <br>        <br>          B <br>         <br>        <br>          u <br>         <br>        <br>          y <br>         <br>        <br>          [ <br>         <br>        <br>          i <br>         <br>        <br>          ] <br>         <br>        <br>          = <br>         <br>         <br>          <br>          <br>            min <br>           <br>          <br>            ⁡ <br>           <br>          <br>          <br>          <br>            j <br>           <br>          <br>            = <br>           <br>          <br>            ⌊ <br>           <br>           <br>           <br>             i <br>            <br>           <br>             2 <br>            <br>           <br>          <br>            ⌋ <br>           <br>          <br>          <br>          <br>            i <br>           <br>          <br>            − <br>           <br>          <br>            1 <br>           <br>          <br>         <br>        <br>          { <br>         <br>        <br>          b <br>         <br>        <br>          u <br>         <br>        <br>          y <br>         <br>        <br>          [ <br>         <br>        <br>          j <br>         <br>        <br>          ] <br>         <br>        <br>          } <br>         <br>        <br>       <br>         notBuy[i]=\min\limits_{j=\lfloor\frac{i}2\rfloor}^{i-1}\{buy[j]\} <br>        <br>       <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right: 0.0502em;">tB</span><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 2.5349em; vertical-align: -1.1054em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.4295em;"><span class="" style="top: -2.2354em; margin-left: 0em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right: 0.0572em;">j</span><span class="mrel mtight">=</span><span class="mopen mtight">⌊</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8551em;"><span class="" style="top: -2.656em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span class="" style="top: -3.2255em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line mtight" style="border-bottom-width: 0.049em;"></span></span><span class="" style="top: -3.384em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.344em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span><span class="mclose mtight">⌋</span></span></span></span><span class="" style="top: -3em;"><span class="pstrut" style="height: 3em;"></span><span class=""><span class="mop">min</span></span></span><span class="" style="top: -3.8679em; margin-left: 0em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.1054em;"><span class=""></span></span></span></span></span><span class="mopen">{<!-- --></span><span class="mord mathnormal">b</span><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right: 0.0572em;">j</span><span class="mclose">]}</span></span></span></span></span></li></ol> <br><p>最终，<code>buy[n - 1]</code>和<code>notBuy[n - 1]</code>中最小的那个即为所求。</p> <br><h3><a id="_102"></a>疑难解答</h3> <br><p><strong>初始值怎么确定？</strong></p> <br><blockquote> <br> <p>初始值<code>buy[0] = notBuy[0] = prices[0]</code>，因为第一个水果无法通过购买其他水果获赠得到，所以第一个水果必须购买。</p> <br></blockquote> <br><p><strong>为什么<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>      <br>       <br>        <br>        <br>          b <br>         <br>        <br>          u <br>         <br>        <br>          y <br>         <br>        <br>          [ <br>         <br>        <br>          i <br>         <br>        <br>          ] <br>         <br>        <br>          = <br>         <br>        <br>          min <br>         <br>        <br>          ⁡ <br>         <br>        <br>          ( <br>         <br>        <br>          b <br>         <br>        <br>          u <br>         <br>        <br>          y <br>         <br>        <br>          [ <br>         <br>        <br>          i <br>         <br>        <br>          − <br>         <br>        <br>          1 <br>         <br>        <br>          ] <br>         <br>        <br>          , <br>         <br>        <br>          n <br>         <br>        <br>          o <br>         <br>        <br>          t <br>         <br>        <br>          B <br>         <br>        <br>          u <br>         <br>        <br>          y <br>         <br>        <br>          [ <br>         <br>        <br>          i <br>         <br>        <br>          − <br>         <br>        <br>          1 <br>         <br>        <br>          ] <br>         <br>        <br>          ) <br>         <br>        <br>          + <br>         <br>        <br>          p <br>         <br>        <br>          r <br>         <br>        <br>          i <br>         <br>        <br>          c <br>         <br>        <br>          e <br>         <br>        <br>          s <br>         <br>        <br>          [ <br>         <br>        <br>          i <br>         <br>        <br>          ] <br>         <br>        <br>       <br>         buy[i] = \min(buy[i - 1], notBuy[i - 1]) + prices[i] <br>        <br>       <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">b</span><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mop">min</span><span class="mopen">(</span><span class="mord mathnormal">b</span><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right: 0.0502em;">tB</span><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">])</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right: 0.0278em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal">ces</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span></span>，而不是<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>      <br>       <br>        <br>        <br>          b <br>         <br>        <br>          u <br>         <br>        <br>          y <br>         <br>        <br>          [ <br>         <br>        <br>          i <br>         <br>        <br>          ] <br>         <br>        <br>          = <br>         <br>        <br>          n <br>         <br>        <br>          o <br>         <br>        <br>          t <br>         <br>        <br>          B <br>         <br>        <br>          u <br>         <br>        <br>          y <br>         <br>        <br>          [ <br>         <br>        <br>          i <br>         <br>        <br>          − <br>         <br>        <br>          1 <br>         <br>        <br>          ] <br>         <br>        <br>          + <br>         <br>        <br>          p <br>         <br>        <br>          r <br>         <br>        <br>          i <br>         <br>        <br>          c <br>         <br>        <br>          e <br>         <br>        <br>          s <br>         <br>        <br>          [ <br>         <br>        <br>          i <br>         <br>        <br>          ] <br>         <br>        <br>       <br>         buy[i] = notBuy[i - 1] + prices[i] <br>        <br>       <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">b</span><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right: 0.0502em;">tB</span><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right: 0.0359em;">y</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right: 0.0278em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal">ces</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span></span>？</strong></p> <br><blockquote> <br> <p>读者问题的核心在于是否有必要使用<code>min</code>操作判断<code>buy[i - 1]</code>和<code>notBuy[i - 1]</code>二者中的最小值。</p> <br> <p>直觉告诉我们，似乎不买<code>i - 1</code>会比买<code>i - 1</code>省钱，似乎<code>notBuy[i - 1]</code>一定会小于<code>buy[i - 1]</code>。</p> <br> <p>其实不然，因为我们要获得所有的水果，所以不买水果<code>3</code>的话，就一定要买水果<code>2</code>从而获赠水果<code>3</code>。但是水果<code>2</code>可能十分贵，不如购买水果<code>1</code>和<code>3</code>而令水果<code>2</code>作为赠品。</p> <br></blockquote> <br><h3><a id="_116"></a>时空复杂度分析</h3> <br><ul><li>时间复杂度<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>      <br>       <br>        <br>        <br>          O <br>         <br>        <br>          ( <br>         <br>         <br>         <br>           n <br>          <br>         <br>           2 <br>          <br>         <br>        <br>          ) <br>         <br>        <br>       <br>         O(n^2) <br>        <br>       <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.0641em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>，其中<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>      <br>       <br>        <br>        <br>          n <br>         <br>        <br>          = <br>         <br>        <br>          l <br>         <br>        <br>          e <br>         <br>        <br>          n <br>         <br>        <br>          ( <br>         <br>        <br>          p <br>         <br>        <br>          r <br>         <br>        <br>          i <br>         <br>        <br>          c <br>         <br>        <br>          e <br>         <br>        <br>          s <br>         <br>        <br>          ) <br>         <br>        <br>       <br>         n=len(prices) <br>        <br>       <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0197em;">l</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right: 0.0278em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal">ces</span><span class="mclose">)</span></span></span></span></span></li><li>空间复杂度<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>      <br>       <br>        <br>        <br>          O <br>         <br>        <br>          ( <br>         <br>        <br>          n <br>         <br>        <br>          ) <br>         <br>        <br>       <br>         O(n) <br>        <br>       <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></li></ul> <br><h4><a id="AC_121"></a>AC代码</h4> <br><h5><a id="C_123"></a>C++</h5> <br><pre><code class="prism language-cpp"><span class="token comment">/*<br> * @Author: LetMeFly<br> * @Date: 2025-01-24 13:02:37<br> * @LastEditors: LetMeFly.xyz<br> * @LastEditTime: 2025-01-24 14:05:03<br> */</span><br><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span><br><span class="token keyword">public</span><span class="token operator">:</span><br>    <span class="token keyword">int</span> <span class="token function">minimumCoins</span><span class="token punctuation">(</span>vector<span class="token operator"><</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&</span> prices<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        vector<span class="token operator"><</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">buy</span><span class="token punctuation">(</span>prices<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">notBuy</span><span class="token punctuation">(</span>prices<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        buy<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> notBuy<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> prices<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator"><</span> prices<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            buy<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>notBuy<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> buy<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> prices<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// 不买3的话必须买2，因此buy[2]不一定大于notBuy[2]</span><br>            notBuy<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1000000000</span><span class="token punctuation">;</span><br>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> j <span class="token operator"><</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>                notBuy<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">min</span><span class="token punctuation">(</span>notBuy<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> buy<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">return</span> <span class="token function">min</span><span class="token punctuation">(</span>buy<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> notBuy<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br></code></pre> <br><blockquote> <br> <p>同步发文于CSDN和我的<a href="https://blog.letmefly.xyz/" rel="nofollow">个人博客</a>，原创不易，转载经作者同意后请附上<a href="https://blog.letmefly.xyz/2025/01/24/LeetCode%202944.%E8%B4%AD%E4%B9%B0%E6%B0%B4%E6%9E%9C%E9%9C%80%E8%A6%81%E7%9A%84%E6%9C%80%E5%B0%91%E9%87%91%E5%B8%81%E6%95%B0/" rel="nofollow">原文链接</a>哦~</p> <br> <p>Tisfy：<a href="https://letmefly.blog.csdn.net/article/details/145340613" rel="nofollow">https://letmefly.blog.csdn.net/article/details/145340613</a></p> <br></blockquote>