<hr /> <br><h3><a id="title_3272%0Adate_20250412_123112%0Atags__LeetCode_________%0Acategories__LeetCode_2"></a>title: 3272.统计好整数的数目：枚举+排列组合+哈希表<br /> date: 2025-04-12 12:31:12<br /> tags: [题解, LeetCode, 困难, 哈希表, 数学, 组合数学, 排列组合, 枚举, 字符串, 字符串解析, 回文串]<br /> categories: [题解, LeetCode]</h3> <br><h2><a id="LetMeFly3272_8"></a>【LetMeFly】3272.统计好整数的数目：枚举+排列组合+哈希表</h2> <br><p>力扣题目链接：<a href="https://leetcode.cn/problems/find-the-count-of-good-integers/" rel="nofollow">https://leetcode.cn/problems/find-the-count-of-good-integers/</a></p> <br><p>给你两个 <strong>正</strong> 整数 <code>n</code> 和 <code>k</code> 。</p> <br><p>如果一个整数 <code>x</code> 满足以下条件，那么它被称为 <strong>k</strong><strong> 回文</strong> 整数 。</p> <br><ul><li><code>x</code> 是一个 回文整数 。</li><li><code>x</code> 能被 <code>k</code> 整除。</li></ul> <br><p>如果一个整数的数位重新排列后能得到一个 <strong>k 回文整数</strong> ，那么我们称这个整数为 <strong>好 </strong>整数。比方说，<code>k = 2</code> ，那么 2020 可以重新排列得到 2002 ，2002 是一个 k 回文串，所以 2020 是一个好整数。而 1010 无法重新排列数位得到一个 k 回文整数。</p> <br><p>请你返回 <code>n</code> 个数位的整数中，有多少个 <strong>好</strong> 整数。</p> <br><p><b>注意</b> ，任何整数在重新排列数位之前或者之后 <strong>都不能</strong> 有前导 0 。比方说 1010 不能重排列得到 101 。</p> <br><p> </p> <br><p><strong class="example">示例 1：</strong></p> <br><div class="example-block"> <br> <p><span class="example-io"><b>输入：</b>n = 3, k = 5</span></p> <br></div> <br><p><span class="example-io"><b>输出：</b>27</span></p> <br><p><b>解释：</b></p> <br><p>部分好整数如下：</p> <br><ul><li>551 ，因为它可以重排列得到 515 。</li><li>525 ，因为它已经是一个 k 回文整数。</li></ul> <br><p><strong class="example">示例 2：</strong></p> <br><div class="example-block"> <br> <p><span class="example-io"><b>输入：</b>n = 1, k = 4</span></p> <br></div> <br><p><span class="example-io"><b>输出：</b>2</span></p> <br><p><strong>解释：</strong></p> <br><p>两个好整数分别是 4 和 8 。</p> <br><p><strong class="example">示例 3：</strong></p> <br><div class="example-block"> <br> <p><span class="example-io"><b>输入：</b>n = 5, k = 6</span></p> <br></div> <br><p><span class="example-io"><b>输出：</b>2468</span></p> <br><p> </p> <br><p><strong>提示：</strong></p> <br><ul><li><code>1 <= n <= 10</code></li><li><code>1 <= k <= 9</code></li></ul> <br><h3><a id="_77"></a>解题方法：枚举+排列组合+哈希表</h3> <br><p>我们可以枚举所有长度为<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>     <br>      <br>       <br>       <br>         n <br>        <br>       <br>      <br>        n <br>       <br>      <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>的数字回文字符串。对于一个回文串，如果其对应整数能够被<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>     <br>      <br>       <br>       <br>         k <br>        <br>       <br>      <br>        k <br>       <br>      <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal" style="margin-right: 0.0315em;">k</span></span></span></span></span>整除，则这个字符串的所有排列都能被<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>     <br>      <br>       <br>       <br>         k <br>        <br>       <br>      <br>        k <br>       <br>      <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal" style="margin-right: 0.0315em;">k</span></span></span></span></span>整除。</p> <br><p>问题就转化为了以下三个：</p> <br><ol><li> <p>如何枚举所有长度为<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>       <br>        <br>         <br>         <br>           n <br>          <br>         <br>        <br>          n <br>         <br>        <br>      </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>的数字回文串？</p> <br>  <blockquote> <br>   <p>我们可以枚举字符串的前半部分，然后反转得到后半部分并拼接，就得到了回文字符串。</p> <br>   <p>具体的，我们可以从<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>        <br>         <br>          <br>          <br>            [ <br>           <br>          <br>            1 <br>           <br>           <br>           <br>             0 <br>            <br>            <br>            <br>              ⌊ <br>             <br>             <br>              <br>              <br>                n <br>               <br>              <br>                − <br>               <br>              <br>                1 <br>               <br>              <br>             <br>               2 <br>              <br>             <br>            <br>              ⌋ <br>             <br>            <br>           <br>          <br>            , <br>           <br>          <br>            1 <br>           <br>           <br>           <br>             0 <br>            <br>            <br>            <br>              ⌊ <br>             <br>             <br>              <br>              <br>                n <br>               <br>              <br>                − <br>               <br>              <br>                1 <br>               <br>              <br>             <br>               2 <br>              <br>             <br>            <br>              ⌋ <br>             <br>            <br>              + <br>             <br>            <br>              1 <br>             <br>            <br>           <br>          <br>            ) <br>           <br>          <br>         <br>           [10^{\lfloor\frac{n-1}2\rfloor}, 10^{\lfloor\frac{n-1}2\rfloor+1}) <br>          <br>         <br>       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.204em; vertical-align: -0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.954em;"><span class="" style="top: -3.363em; margin-right: 0.05em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">⌊</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8443em;"><span class="" style="top: -2.656em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span class="" style="top: -3.2255em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line mtight" style="border-bottom-width: 0.049em;"></span></span><span class="" style="top: -3.384em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.344em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span><span class="mclose mtight">⌋</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.954em;"><span class="" style="top: -3.363em; margin-right: 0.05em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">⌊</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8443em;"><span class="" style="top: -2.656em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span class="" style="top: -3.2255em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line mtight" style="border-bottom-width: 0.049em;"></span></span><span class="" style="top: -3.384em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.344em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span><span class="mclose mtight">⌋</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>枚举前半字符串，若<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>        <br>         <br>          <br>          <br>            n <br>           <br>          <br>         <br>           n <br>          <br>         <br>       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>为奇数则包含中间位置元素。</p> <br>  </blockquote> </li><li> <p>一个“k回文整数字符串”有多少个排列？多少个字符串重新排列后能得到这个字符串？</p> <br>  <blockquote> <br>   <p>我们分别统计字符串中每个数字出现了多少次，假设字符串长度为<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>        <br>         <br>          <br>          <br>            n <br>           <br>          <br>         <br>           n <br>          <br>         <br>       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>。</p> <br>   <p>首先计算第一位有多少种可能，第一位不能为<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>        <br>         <br>          <br>          <br>            0 <br>           <br>          <br>         <br>           0 <br>          <br>         <br>       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">0</span></span></span></span></span>，因此方案数为<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>        <br>         <br>          <br>          <br>            n <br>           <br>          <br>            − <br>           <br>          <br>            t <br>           <br>          <br>            i <br>           <br>          <br>            m <br>           <br>          <br>            e <br>           <br>          <br>            s <br>           <br>          <br>            [ <br>           <br>          <br>            0 <br>           <br>          <br>            ] <br>           <br>          <br>         <br>           n-times[0] <br>          <br>         <br>       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6667em; vertical-align: -0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">t</span><span class="mord mathnormal">im</span><span class="mord mathnormal">es</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span></span></span></span></span>；</p> <br>   <p>接着计算其他位，其他的<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>        <br>         <br>          <br>          <br>            n <br>           <br>          <br>            − <br>           <br>          <br>            1 <br>           <br>          <br>         <br>           n-1 <br>          <br>         <br>       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6667em; vertical-align: -0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>个数字可以随便排列，其他位的方案数为<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>        <br>         <br>          <br>          <br>            ( <br>           <br>          <br>            n <br>           <br>          <br>            − <br>           <br>          <br>            1 <br>           <br>          <br>            ) <br>           <br>          <br>            ! <br>           <br>          <br>         <br>           (n-1)! <br>          <br>         <br>       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)!</span></span></span></span></span>。</p> <br>   <p>由于其中可能存在重复元素，例如<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>        <br>         <br>          <br>          <br>            121 <br>           <br>          <br>         <br>           121 <br>          <br>         <br>       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">121</span></span></span></span></span>中有两个<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>        <br>         <br>          <br>          <br>            1 <br>           <br>          <br>         <br>           1 <br>          <br>         <br>       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>，这两个<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>        <br>         <br>          <br>          <br>            1 <br>           <br>          <br>         <br>           1 <br>          <br>         <br>       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1</span></span></span></span></span>谁在前谁在后无法区分，只能有一种方案，所以要除以<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>        <br>         <br>          <br>          <br>            2 <br>           <br>          <br>            ! <br>           <br>          <br>         <br>           2! <br>          <br>         <br>       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord">2</span><span class="mclose">!</span></span></span></span></span>。</p> <br>   <p>总的方案数为：<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>        <br>         <br>          <br>           <br>            <br>            <br>              ( <br>             <br>            <br>              n <br>             <br>            <br>              − <br>             <br>            <br>              t <br>             <br>            <br>              i <br>             <br>            <br>              m <br>             <br>            <br>              e <br>             <br>            <br>              s <br>             <br>            <br>              [ <br>             <br>            <br>              0 <br>             <br>            <br>              ] <br>             <br>            <br>              ) <br>             <br>            <br>              × <br>             <br>            <br>              ( <br>             <br>            <br>              n <br>             <br>            <br>              − <br>             <br>            <br>              1 <br>             <br>            <br>              ) <br>             <br>            <br>              ! <br>             <br>            <br>            <br>             <br>             <br>               Π <br>              <br>              <br>              <br>                i <br>               <br>              <br>                = <br>               <br>              <br>                0 <br>               <br>              <br>             <br>               9 <br>              <br>             <br>            <br>              t <br>             <br>            <br>              i <br>             <br>            <br>              m <br>             <br>            <br>              e <br>             <br>            <br>              s <br>             <br>            <br>              [ <br>             <br>            <br>              i <br>             <br>            <br>              ] <br>             <br>            <br>           <br>          <br>         <br>           \frac{(n-times[0])\times (n-1)!}{\Pi_{i=0}^{9}times[i]} <br>          <br>         <br>       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.6092em; vertical-align: -0.5992em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 1.01em;"><span class="" style="top: -2.6264em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">Π</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8051em;"><span class="" style="top: -2.1777em; margin-left: 0em; margin-right: 0.0714em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span class="" style="top: -2.8448em; margin-right: 0.0714em;"><span class="pstrut" style="height: 2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">9</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.3223em;"><span class=""></span></span></span></span></span></span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">im</span><span class="mord mathnormal mtight">es</span><span class="mopen mtight">[</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">]</span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.485em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">im</span><span class="mord mathnormal mtight">es</span><span class="mopen mtight">[</span><span class="mord mtight">0</span><span class="mclose mtight">])</span><span class="mbin mtight">×</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span><span class="mclose mtight">)!</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.5992em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span>。</p> <br>  </blockquote> </li><li> <p>如何保证每个排列不会被重复统计？</p> <br>  <blockquote> <br>   <p>假设我已经统计过<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>        <br>         <br>          <br>          <br>            1221 <br>           <br>          <br>         <br>           1221 <br>          <br>         <br>       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1221</span></span></span></span></span>的所有全排列了，那么我遇到<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>        <br>         <br>          <br>          <br>            2112 <br>           <br>          <br>         <br>           2112 <br>          <br>         <br>       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">2112</span></span></span></span></span>时就不能再统计<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>        <br>         <br>          <br>          <br>            2112 <br>           <br>          <br>         <br>           2112 <br>          <br>         <br>       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">2112</span></span></span></span></span>的所有全排列了，因为<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>        <br>         <br>          <br>          <br>            1221 <br>           <br>          <br>         <br>           1221 <br>          <br>         <br>       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">1221</span></span></span></span></span>和<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>        <br>         <br>          <br>          <br>            2112 <br>           <br>          <br>         <br>           2112 <br>          <br>         <br>       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">2112</span></span></span></span></span>的全排列时相同的。</p> <br>   <p>如何做到？其实我们只需要使用一个哈希表，记录字符串<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>        <br>         <br>          <br>          <br>            s <br>           <br>          <br>         <br>           s <br>          <br>         <br>       </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">s</span></span></span></span></span>排序后的字符串是否出现过就好了。</p> <br>  </blockquote> </li></ol> <br><h4><a id="_107"></a>时空复杂度分析</h4> <br><ul><li>时间复杂度<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>      <br>       <br>        <br>        <br>          O <br>         <br>        <br>          ( <br>         <br>        <br>          1 <br>         <br>         <br>         <br>           0 <br>          <br>         <br>           m <br>          <br>         <br>        <br>          × <br>         <br>        <br>          n <br>         <br>        <br>          log <br>         <br>        <br>          ⁡ <br>         <br>        <br>          n <br>         <br>        <br>          ) <br>         <br>        <br>       <br>         O(10^{m}\times n\log n) <br>        <br>       <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.6644em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mop">lo<span style="margin-right: 0.0139em;">g</span></span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span>，其中<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>      <br>       <br>        <br>        <br>          m <br>         <br>        <br>          = <br>         <br>        <br>          ⌊ <br>         <br>         <br>          <br>          <br>            n <br>           <br>          <br>            − <br>           <br>          <br>            1 <br>           <br>          <br>         <br>           2 <br>          <br>         <br>        <br>          ⌋ <br>         <br>        <br>       <br>         m=\lfloor\frac{n-1}2\rfloor <br>        <br>       <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 1.1901em; vertical-align: -0.345em;"></span><span class="mopen">⌊</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.8451em;"><span class="" style="top: -2.655em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span class="" style="top: -3.23em;"><span class="pstrut" style="height: 3em;"></span><span class="frac-line" style="border-bottom-width: 0.04em;"></span></span><span class="" style="top: -3.394em;"><span class="pstrut" style="height: 3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.345em;"><span class=""></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">⌋</span></span></span></span></span></li><li>空间复杂度<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>      <br>       <br>        <br>        <br>          O <br>         <br>        <br>          ( <br>         <br>        <br>          1 <br>         <br>         <br>         <br>           0 <br>          <br>         <br>           m <br>          <br>         <br>        <br>          × <br>         <br>        <br>          n <br>         <br>        <br>          ) <br>         <br>        <br>       <br>         O(10^m\times n) <br>        <br>       <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.6644em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></li></ul> <br><h4><a id="AC_112"></a>AC代码</h4> <br><h5><a id="C_114"></a>C++</h5> <br><pre><code class="prism language-cpp"><span class="token comment">/*<br> * @Author: LetMeFly<br> * @Date: 2025-04-12 07:51:15<br> * @LastEditors: LetMeFly.xyz<br> * @LastEditTime: 2025-04-12 09:25:01<br> * @Description: AC,21.21%,93.94%<br> */</span><br><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">if</span> <span class="token expression"><span class="token function">defined</span><span class="token punctuation">(</span>_WIN32<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token function">defined</span><span class="token punctuation">(</span>__APPLE__<span class="token punctuation">)</span></span></span><br><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"_[1,2]toVector.h"</span></span><br><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><br><br><span class="token comment">/*<br>1 -> 1-9<br>2 -> 1-9<br>3 -> 10->99<br>4 -> 10->99<br>5 -> 100->999<br>6 -> 100->999<br><br>n -> [10^((n-1)/2-1), 10^((n-1)/2)-1)<br>*/</span><br><span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">long</span> ll<span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span><br><span class="token keyword">private</span><span class="token operator">:</span><br>    <span class="token keyword">int</span> k<span class="token punctuation">;</span><br>    unordered_set<span class="token operator"><</span>string<span class="token operator">></span> visited<span class="token punctuation">;</span><br>    vector<span class="token operator"><</span><span class="token keyword">int</span><span class="token operator">></span> factor<span class="token punctuation">;</span><br>    <span class="token keyword">int</span> times<span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">void</span> <span class="token function">initFactor</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        factor<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        factor<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><br>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator"><=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            factor<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> factor<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> i<span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">bool</span> <span class="token function">ifVisited</span><span class="token punctuation">(</span>string s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token function">sort</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span>visited<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>        visited<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <br>    <span class="token keyword">bool</span> <span class="token function">isOk</span><span class="token punctuation">(</span>string<span class="token operator">&</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        ll val <span class="token operator">=</span> <span class="token function">stoll</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token comment">// printf("%s: %d\n", s.c_str(), val % k == 0);  // *****</span><br>        <span class="token keyword">return</span> val <span class="token operator">%</span> k <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">;</span><br><br>    ll <span class="token function">calc</span><span class="token punctuation">(</span>string<span class="token operator">&</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token function">memset</span><span class="token punctuation">(</span>times<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>times<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> c <span class="token operator">:</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            times<span class="token punctuation">[</span>c <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>        ll ans <span class="token operator">=</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> times<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> factor<span class="token punctuation">[</span>s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator"><</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            ans <span class="token operator">/=</span> factor<span class="token punctuation">[</span>times<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token keyword">public</span><span class="token operator">:</span><br>    ll <span class="token function">countGoodIntegers</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token function">initFactor</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token keyword">this</span><span class="token operator">-></span>k <span class="token operator">=</span> k<span class="token punctuation">;</span><br>        ll ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> start <span class="token operator">=</span> <span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> end <span class="token operator">=</span> start <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">;</span> start <span class="token operator"><</span> end<span class="token punctuation">;</span> start<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            string prefix <span class="token operator">=</span> <span class="token function">to_string</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">,</span> suffix <span class="token operator">=</span> prefix<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> prefix<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> n <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token function">reverse</span><span class="token punctuation">(</span>suffix<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> suffix<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            string thisNum <span class="token operator">=</span> prefix <span class="token operator">+</span> suffix<span class="token punctuation">;</span><br>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isOk</span><span class="token punctuation">(</span>thisNum<span class="token punctuation">)</span> <span class="token operator">&&</span> <span class="token operator">!</span><span class="token function">ifVisited</span><span class="token punctuation">(</span>thisNum<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">// 注意ifVisited会将thisNum加入哈希表的话记得先判断isOk再判断ifVisited</span><br>                <span class="token comment">// printf("ans: %lld, calc(%s): %lld, ans = ans + calc(%s) = %lld\n", ans, thisNum.c_str(), calc(thisNum), thisNum.c_str(), ans + calc(thisNum));  // ****</span><br>                ans <span class="token operator">+=</span> <span class="token function">calc</span><span class="token punctuation">(</span>thisNum<span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br></code></pre> <br><h5><a id="Python_200"></a>Python</h5> <br><pre><code class="prism language-python"><span class="token triple-quoted-string string">'''<br>Author: LetMeFly<br>Date: 2025-04-12 09:44:25<br>LastEditors: LetMeFly.xyz<br>LastEditTime: 2025-04-12 10:52:36<br>Description: 中间终中断了下<br>'''</span><br><span class="token keyword">from</span> collections <span class="token keyword">import</span> Counter<br><br><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span><br>    <span class="token keyword">def</span> <span class="token function">isOk</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span><br>        <span class="token keyword">return</span> <span class="token builtin">int</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>k <span class="token operator">==</span> <span class="token number">0</span><br>    <br>    <span class="token keyword">def</span> <span class="token function">ifVisited</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span><br>        s <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token builtin">sorted</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><br>        <span class="token keyword">if</span> s <span class="token keyword">in</span> self<span class="token punctuation">.</span>visited<span class="token punctuation">:</span><br>            <span class="token keyword">return</span> <span class="token boolean">True</span><br>        self<span class="token punctuation">.</span>visited<span class="token punctuation">.</span>add<span class="token punctuation">(</span>s<span class="token punctuation">)</span><br>        <span class="token keyword">return</span> <span class="token boolean">False</span><br>    <br>    <span class="token keyword">def</span> <span class="token function">calc</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span><br>        times <span class="token operator">=</span> Counter<span class="token punctuation">(</span>s<span class="token punctuation">)</span><br>        ans <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">-</span> times<span class="token punctuation">[</span><span class="token string">'0'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> self<span class="token punctuation">.</span>factor<span class="token punctuation">[</span><span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><br>        <span class="token keyword">for</span> _<span class="token punctuation">,</span> val <span class="token keyword">in</span> times<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><br>            ans <span class="token operator">//=</span> self<span class="token punctuation">.</span>factor<span class="token punctuation">[</span>val<span class="token punctuation">]</span><br>        <span class="token keyword">return</span> ans<br><br>    <span class="token keyword">def</span> <span class="token function">countGoodIntegers</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> n<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> k<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span><br>        self<span class="token punctuation">.</span>k <span class="token operator">=</span> k<br>        self<span class="token punctuation">.</span>factor <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><br>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span><br>            self<span class="token punctuation">.</span>factor<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>factor<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> i<br>        self<span class="token punctuation">.</span>visited <span class="token operator">=</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>        base <span class="token operator">=</span> <span class="token builtin">pow</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">//</span> <span class="token number">2</span><span class="token punctuation">)</span><br>        ans <span class="token operator">=</span> <span class="token number">0</span><br>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span>base<span class="token punctuation">,</span> base <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span><br>            prefix <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><br>            s <span class="token operator">=</span> prefix <span class="token operator">+</span> prefix<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>n <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><br>            <span class="token keyword">if</span> self<span class="token punctuation">.</span>isOk<span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token keyword">not</span> self<span class="token punctuation">.</span>ifVisited<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span><br>                ans <span class="token operator">+=</span> self<span class="token punctuation">.</span>calc<span class="token punctuation">(</span>s<span class="token punctuation">)</span><br>        <span class="token keyword">return</span> ans<br><br></code></pre> <br><h5><a id="Java_247"></a>Java</h5> <br><pre><code class="prism language-java"><span class="token comment">/*<br> * @Author: LetMeFly<br> * @Date: 2025-04-12 10:53:42<br> * @LastEditors: LetMeFly.xyz<br> * @LastEditTime: 2025-04-12 11:13:08<br> */</span><br><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Set</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashSet</span><span class="token punctuation">;</span><br><span class="token comment">// import java.lang.StringBuilder;  // 默认自动导入 无需手动导入</span><br><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span><br>    <span class="token keyword">private</span> <span class="token keyword">int</span> k<span class="token punctuation">;</span><br>    <span class="token keyword">private</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> factor<span class="token punctuation">;</span><br>    <span class="token keyword">private</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation"><</span><span class="token class-name">String</span><span class="token punctuation">></span></span> visited <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation"><</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">private</span> <span class="token keyword">boolean</span> <span class="token function">isOk</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">return</span> <span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">parseLong</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">%</span> k <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">private</span> <span class="token keyword">boolean</span> <span class="token function">ifVisited</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> array <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token class-name">String</span> sorted <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token keyword">return</span> <span class="token operator">!</span>visited<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>sorted<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">private</span> <span class="token keyword">long</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> times <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> c <span class="token operator">:</span> s<span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            times<span class="token punctuation">[</span>c <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">long</span> ans <span class="token operator">=</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> times<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> factor<span class="token punctuation">[</span>s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator"><</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            ans <span class="token operator">/=</span> factor<span class="token punctuation">[</span>times<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">countGoodIntegers</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">this</span><span class="token punctuation">.</span>k <span class="token operator">=</span> k<span class="token punctuation">;</span><br>        factor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>        factor<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><br>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator"><=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            factor<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> factor<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> i<span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">long</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> from <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">to</span> <span class="token operator">=</span> from <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">;</span> from <span class="token operator"><</span> <span class="token keyword">to</span><span class="token punctuation">;</span> from<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            <span class="token class-name">String</span> prefix <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>from<span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token class-name">String</span> suffix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span>prefix<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>n <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token class-name">String</span> s <span class="token operator">=</span> prefix <span class="token operator">+</span> suffix<span class="token punctuation">;</span><br>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isOk</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">&&</span> <span class="token operator">!</span><span class="token function">ifVisited</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>                ans <span class="token operator">+=</span> <span class="token function">calc</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token comment">/*<br>API:<br><br>java 子字符串<br>反转字符串<br>整数转字符串<br>字符串拼接<br>字符串转整数<br>*/</span><br></code></pre> <br><h5><a id="Go_320"></a>Go</h5> <br><pre><code class="prism language-go"><span class="token comment">/*<br> * @Author: LetMeFly<br> * @Date: 2025-04-12 11:14:05<br> * @LastEditors: LetMeFly.xyz<br> * @LastEditTime: 2025-04-12 11:40:36<br> * @Description: AC,25.00%,75.00%,一遍过<br> */</span><br><span class="token keyword">package</span> main<br><br><span class="token keyword">import</span> <span class="token punctuation">(</span><br>    <span class="token string">"math"</span><br>    <span class="token string">"strconv"</span><br>    <span class="token string">"sort"</span><br>    <span class="token string">"strings"</span><br><span class="token punctuation">)</span><br><br><span class="token keyword">type</span> solution3273 <span class="token keyword">struct</span><span class="token punctuation">{<!-- --></span><br>    n<span class="token punctuation">,</span> k <span class="token builtin">int</span><br>    factor <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><br>    visited <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">bool</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">func</span> <span class="token function">init3273</span><span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">,</span> k <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">*</span>solution3273 <span class="token punctuation">{<!-- --></span><br>    ans <span class="token operator">:=</span> <span class="token operator">&</span>solution3273<span class="token punctuation">{<!-- --></span><br>        n<span class="token punctuation">:</span> n<span class="token punctuation">,</span><br>        k<span class="token punctuation">:</span> k<span class="token punctuation">,</span><br>        factor<span class="token punctuation">:</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        visited <span class="token punctuation">:</span> <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">bool</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token punctuation">}</span><br>    ans<span class="token punctuation">.</span>factor<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><br>    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator"><=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{<!-- --></span><br>        ans<span class="token punctuation">.</span>factor<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> ans<span class="token punctuation">.</span>factor<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">*</span> i<br>    <span class="token punctuation">}</span><br>    <span class="token keyword">return</span> ans<br><span class="token punctuation">}</span><br><br><span class="token keyword">func</span> <span class="token punctuation">(</span>t<span class="token operator">*</span> solution3273<span class="token punctuation">)</span> <span class="token function">isOk</span><span class="token punctuation">(</span>s <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{<!-- --></span><br>    val<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">Atoi</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><br>    <span class="token keyword">return</span> val <span class="token operator">%</span> t<span class="token punctuation">.</span>k <span class="token operator">==</span> <span class="token number">0</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">func</span> <span class="token punctuation">(</span>t<span class="token operator">*</span> solution3273<span class="token punctuation">)</span> <span class="token function">ifVisited</span><span class="token punctuation">(</span>s <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{<!-- --></span><br>    array <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">Split</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><br>    sort<span class="token punctuation">.</span><span class="token function">Strings</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><br>    s <span class="token operator">=</span> strings<span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><br>    <span class="token keyword">if</span> t<span class="token punctuation">.</span>visited<span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">return</span> <span class="token boolean">true</span><br>    <span class="token punctuation">}</span><br>    t<span class="token punctuation">.</span>visited<span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><br>    <span class="token keyword">return</span> <span class="token boolean">false</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">func</span> <span class="token punctuation">(</span>t<span class="token operator">*</span> solution3273<span class="token punctuation">)</span> <span class="token function">calc</span><span class="token punctuation">(</span>s <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>ans <span class="token builtin">int64</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>    times <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><br>    <span class="token keyword">for</span> i<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> <span class="token keyword">range</span> s <span class="token punctuation">{<!-- --></span><br>        times<span class="token punctuation">[</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">]</span><span class="token operator">++</span><br>    <span class="token punctuation">}</span><br>    ans <span class="token operator">=</span> <span class="token function">int64</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>n <span class="token operator">-</span> times<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">int64</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>factor<span class="token punctuation">[</span>t<span class="token punctuation">.</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><br>    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> v <span class="token operator">:=</span> <span class="token keyword">range</span> times <span class="token punctuation">{<!-- --></span><br>        ans <span class="token operator">/=</span> <span class="token function">int64</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>factor<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">return</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">func</span> <span class="token punctuation">(</span>t<span class="token operator">*</span> solution3273<span class="token punctuation">)</span> <span class="token function">getFullS</span><span class="token punctuation">(</span>prefix <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">string</span> <span class="token punctuation">{<!-- --></span><br>    suffix <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span>prefix<span class="token punctuation">)</span><br>    <span class="token keyword">if</span> t<span class="token punctuation">.</span>n <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token punctuation">{<!-- --></span><br>        suffix <span class="token operator">=</span> suffix<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token function">len</span><span class="token punctuation">(</span>suffix<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator"><</span> <span class="token function">len</span><span class="token punctuation">(</span>suffix<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{<!-- --></span><br>        suffix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> suffix<span class="token punctuation">[</span><span class="token function">len</span><span class="token punctuation">(</span>suffix<span class="token punctuation">)</span> <span class="token operator">-</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> suffix<span class="token punctuation">[</span><span class="token function">len</span><span class="token punctuation">(</span>suffix<span class="token punctuation">)</span> <span class="token operator">-</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> suffix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">return</span> prefix <span class="token operator">+</span> <span class="token function">string</span><span class="token punctuation">(</span>suffix<span class="token punctuation">)</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">func</span> <span class="token function">countGoodIntegers</span><span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">,</span> k <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>ans <span class="token builtin">int64</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>    solution <span class="token operator">:=</span> <span class="token function">init3273</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> k<span class="token punctuation">)</span><br>    from <span class="token operator">:=</span> <span class="token function">int</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token function">Pow10</span><span class="token punctuation">(</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br>    to <span class="token operator">:=</span> from <span class="token operator">*</span> <span class="token number">10</span><br>    <span class="token keyword">for</span> i <span class="token operator">:=</span> from<span class="token punctuation">;</span> i <span class="token operator"><</span> to<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{<!-- --></span><br>        s <span class="token operator">:=</span> solution<span class="token punctuation">.</span><span class="token function">getFullS</span><span class="token punctuation">(</span>strconv<span class="token punctuation">.</span><span class="token function">Itoa</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><br>        <span class="token keyword">if</span> solution<span class="token punctuation">.</span><span class="token function">isOk</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">&&</span> <span class="token operator">!</span>solution<span class="token punctuation">.</span><span class="token function">ifVisited</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            ans <span class="token operator">+=</span> solution<span class="token punctuation">.</span><span class="token function">calc</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">return</span><br><span class="token punctuation">}</span><br></code></pre> <br><blockquote> <br> <p>同步发文于<a href="https://letmefly.blog.csdn.net/article/details/147163366" rel="nofollow">CSDN</a>和我的<a href="https://blog.letmefly.xyz/" rel="nofollow">个人博客</a>，原创不易，转载经作者同意后请附上<a href="https://blog.letmefly.xyz/2025/04/12/LeetCode%203272.%E7%BB%9F%E8%AE%A1%E5%A5%BD%E6%95%B4%E6%95%B0%E7%9A%84%E6%95%B0%E7%9B%AE/" rel="nofollow">原文链接</a>哦~</p> <br> <p>千篇源码题解<a href="https://github.com/LetMeFly666/LeetCode">已开源</a></p> <br></blockquote>