<h2><a id="LetMeFly632_1"></a>【LetMeFly】632.最小区间：优先队列</h2> <br><p>力扣题目链接：<a href="https://leetcode.cn/problems/smallest-range-covering-elements-from-k-lists/" rel="nofollow">https://leetcode.cn/problems/smallest-range-covering-elements-from-k-lists/</a></p> <br><p>你有 <code>k</code> 个 <strong>非递减排列</strong> 的整数列表。找到一个 <strong>最小 </strong>区间，使得 <code>k</code> 个列表中的每个列表至少有一个数包含在其中。</p> <br><p>我们定义如果 <code>b-a < d-c</code> 或者在 <code>b-a == d-c</code> 时 <code>a < c</code>，则区间 <code>[a,b]</code> 比 <code>[c,d]</code> 小。</p> <br><p> </p> <br><p><strong>示例 1：</strong></p> <br><pre><strong>输入：</strong>nums = [[4,10,15,24,26], [0,9,12,20], [5,18,22,30]]<br><strong>输出：</strong>[20,24]<br><strong>解释：</strong> <br>列表 1：[4, 10, 15, 24, 26]，24 在区间 [20,24] 中。<br>列表 2：[0, 9, 12, 20]，20 在区间 [20,24] 中。<br>列表 3：[5, 18, 22, 30]，22 在区间 [20,24] 中。<br></pre> <br><p><strong>示例 2：</strong></p> <br><pre><strong>输入：</strong>nums = [[1,2,3],[1,2,3],[1,2,3]]<br><strong>输出：</strong>[1,1]<br></pre> <br><p> </p> <br><p><strong>提示：</strong></p> <br><ul><li><code>nums.length == k</code></li><li><code>1 <= k <= 3500</code></li><li><code>1 <= nums[i].length <= 50</code></li><li><code>-10<sup>5</sup> <= nums[i][j] <= 10<sup>5</sup></code></li><li><code>nums[i]</code> 按非递减顺序排列</li></ul> <br><p> </p> <br><h3><a id="_45"></a>解题方法：优先队列</h3> <br><p>使用一个优先队列，每个“整数列表”放一个元素到优先队列中，优先队列以“列表元素最小”为最优先。</p> <br><p>优先队列中存放的，是每个列表本次要覆盖的元素。</p> <br><p>每次从优先队列中取出一个元素：</p> <br><blockquote> <br> <p>那么这次方案(取出之前)的最小值就是取出的这个元素，最大值我们使用一个值记录并在入队时候更新。</p> <br> <p>更新最佳方案：如果当前方案优于之前的最佳方案，就更新最佳方案为这个方案。</p> <br> <p>新元素入队：如果出队元素所在列表还有新元素，则下一个元素入队，并记得更新“最大值”；否则结束循环。</p> <br></blockquote> <br><ul><li>时间复杂度<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>      <br>       <br>        <br>        <br>          O <br>         <br>        <br>          ( <br>         <br>        <br>          n <br>         <br>        <br>          k <br>         <br>        <br>          log <br>         <br>        <br>          ⁡ <br>         <br>        <br>          k <br>         <br>        <br>          ) <br>         <br>        <br>       <br>         O(nk\log k) <br>        <br>       <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.0315em;">nk</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mop">lo<span style="margin-right: 0.0139em;">g</span></span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal" style="margin-right: 0.0315em;">k</span><span class="mclose">)</span></span></span></span></span></li><li>空间复杂度<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>      <br>       <br>        <br>        <br>          O <br>         <br>        <br>          ( <br>         <br>        <br>          k <br>         <br>        <br>          ) <br>         <br>        <br>       <br>         O(k) <br>        <br>       <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.0315em;">k</span><span class="mclose">)</span></span></span></span></span></li></ul> <br><h4><a id="AC_62"></a>AC代码</h4> <br><h5><a id="C_64"></a>C++</h5> <br><pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span><br><span class="token keyword">public</span><span class="token operator">:</span><br>    vector<span class="token operator"><</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">smallestRange</span><span class="token punctuation">(</span>vector<span class="token operator"><</span>vector<span class="token operator"><</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">&</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        vector<span class="token operator"><</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">loc</span><span class="token punctuation">(</span>nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token keyword">auto</span> cmp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">&</span>nums<span class="token punctuation">,</span> <span class="token operator">&</span>loc<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&</span> x<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&</span> y<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            <span class="token keyword">return</span> nums<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>loc<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">></span> nums<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">[</span>loc<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><span class="token punctuation">;</span><br>        priority_queue<span class="token operator"><</span><span class="token keyword">int</span><span class="token punctuation">,</span> vector<span class="token operator"><</span><span class="token keyword">int</span><span class="token operator">></span><span class="token punctuation">,</span> <span class="token keyword">decltype</span><span class="token punctuation">(</span>cmp<span class="token punctuation">)</span><span class="token operator">></span> <span class="token function">pq</span><span class="token punctuation">(</span>cmp<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token keyword">int</span> m <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1e8</span><span class="token punctuation">,</span> M <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1e6</span><span class="token punctuation">;</span><br>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator"><</span> nums<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            pq<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><br>            M <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>M<span class="token punctuation">,</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">int</span> nowm<span class="token punctuation">,</span> nowM <span class="token operator">=</span> M<span class="token punctuation">;</span><br>        <span class="token keyword">while</span> <span class="token punctuation">(</span>pq<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            <span class="token keyword">int</span> index <span class="token operator">=</span> pq<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            pq<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            nowm <span class="token operator">=</span> nums<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">[</span>loc<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>            loc<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span><br>            <span class="token keyword">if</span> <span class="token punctuation">(</span>nowM <span class="token operator">-</span> nowm <span class="token operator"><</span> M <span class="token operator">-</span> m<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>                M <span class="token operator">=</span> nowM<span class="token punctuation">;</span><br>                m <span class="token operator">=</span> nowm<span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><br>            <span class="token keyword">if</span> <span class="token punctuation">(</span>loc<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">==</span> nums<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>                <span class="token keyword">break</span><span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><br>            nowM <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>nowM<span class="token punctuation">,</span> nums<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">[</span>loc<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            pq<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span>m<span class="token punctuation">,</span> M<span class="token punctuation">}</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br></code></pre> <br><blockquote> <br> <p>同步发文于CSDN和我的<a href="https://blog.letmefly.xyz/" rel="nofollow">个人博客</a>，原创不易，转载经作者同意后请附上<a href="https://blog.letmefly.xyz/2024/11/24/LeetCode%200632.%E6%9C%80%E5%B0%8F%E5%8C%BA%E9%97%B4/" rel="nofollow">原文链接</a>哦~</p> <br> <p>Tisfy：<a href="https://letmefly.blog.csdn.net/article/details/144011635" rel="nofollow">https://letmefly.blog.csdn.net/article/details/144011635</a></p> <br></blockquote>