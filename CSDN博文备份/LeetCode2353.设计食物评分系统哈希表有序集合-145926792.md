<h2><a id="LetMeFly2353___1"></a>【LetMeFly】2353.设计食物评分系统：哈希表 + 有序集合</h2> <br><p>力扣题目链接：<a href="https://leetcode.cn/problems/design-a-food-rating-system/" rel="nofollow">https://leetcode.cn/problems/design-a-food-rating-system/</a></p> <br><p>设计一个支持下述操作的食物评分系统：</p> <br><ul><li><strong>修改</strong> 系统中列出的某种食物的评分。</li><li>返回系统中某一类烹饪方式下评分最高的食物。</li></ul> <br><p>实现 <code>FoodRatings</code> 类：</p> <br><ul><li><code>FoodRatings(String[] foods, String[] cuisines, int[] ratings)</code> 初始化系统。食物由 <code>foods</code>、<code>cuisines</code> 和 <code>ratings</code> 描述，长度均为 <code>n</code> 。 <pre><code><ul><br>	<li><code>foods[i]</code> 是第 <code>i</code> 种食物的名字。</li><br>	<li><code>cuisines[i]</code> 是第 <code>i</code> 种食物的烹饪方式。</li><br>	<li><code>ratings[i]</code> 是第 <code>i</code> 种食物的最初评分。</li><br></ul><br></li><br><li><code>void changeRating(String food, int newRating)</code> 修改名字为 <code>food</code> 的食物的评分。</li><br><li><code>String highestRated(String cuisine)</code> 返回指定烹饪方式 <code>cuisine</code> 下评分最高的食物的名字。如果存在并列，返回 <strong>字典序较小</strong> 的名字。</li><br></code></pre> </li></ul> <br><p>注意，字符串 <code>x</code> 的字典序比字符串 <code>y</code> 更小的前提是：<code>x</code> 在字典中出现的位置在 <code>y</code> 之前，也就是说，要么 <code>x</code> 是 <code>y</code> 的前缀，或者在满足 <code>x[i] != y[i]</code> 的第一个位置 <code>i</code> 处，<code>x[i]</code> 在字母表中出现的位置在 <code>y[i]</code> 之前。</p> <br><p> </p> <br><p><strong>示例：</strong></p> <br><pre><strong>输入</strong><br>["FoodRatings", "highestRated", "highestRated", "changeRating", "highestRated", "changeRating", "highestRated"]<br>[[["kimchi", "miso", "sushi", "moussaka", "ramen", "bulgogi"], ["korean", "japanese", "japanese", "greek", "japanese", "korean"], [9, 12, 8, 15, 14, 7]], ["korean"], ["japanese"], ["sushi", 16], ["japanese"], ["ramen", 16], ["japanese"]]<br><strong>输出</strong><br>[null, "kimchi", "ramen", null, "sushi", null, "ramen"]<br><br><strong>解释</strong><br>FoodRatings foodRatings = new FoodRatings(["kimchi", "miso", "sushi", "moussaka", "ramen", "bulgogi"], ["korean", "japanese", "japanese", "greek", "japanese", "korean"], [9, 12, 8, 15, 14, 7]);<br>foodRatings.highestRated("korean"); // 返回 "kimchi"<br>                                    // "kimchi" 是分数最高的韩式料理，评分为 9 。<br>foodRatings.highestRated("japanese"); // 返回 "ramen"<br>                                      // "ramen" 是分数最高的日式料理，评分为 14 。<br>foodRatings.changeRating("sushi", 16); // "sushi" 现在评分变更为 16 。<br>foodRatings.highestRated("japanese"); // 返回 "sushi"<br>                                      // "sushi" 是分数最高的日式料理，评分为 16 。<br>foodRatings.changeRating("ramen", 16); // "ramen" 现在评分变更为 16 。<br>foodRatings.highestRated("japanese"); // 返回 "ramen"<br>                                      // "sushi" 和 "ramen" 的评分都是 16 。<br>                                      // 但是，"ramen" 的字典序比 "sushi" 更小。<br></pre> <br><p> </p> <br><p><strong>提示：</strong></p> <br><ul><li><code>1 <= n <= 2 * 10<sup>4</sup></code></li><li><code>n == foods.length == cuisines.length == ratings.length</code></li><li><code>1 <= foods[i].length, cuisines[i].length <= 10</code></li><li><code>foods[i]</code>、<code>cuisines[i]</code> 由小写英文字母组成</li><li><code>1 <= ratings[i] <= 10<sup>8</sup></code></li><li><code>foods</code> 中的所有字符串 <strong>互不相同</strong></li><li>在对 <code>changeRating</code> 的所有调用中，<code>food</code> 是系统中食物的名字。</li><li>在对 <code>highestRated</code> 的所有调用中，<code>cuisine</code> 是系统中 <strong>至少一种</strong> 食物的烹饪方式。</li><li>最多调用 <code>changeRating</code> 和 <code>highestRated</code> <strong>总计</strong> <code>2 * 10<sup>4</sup></code> 次</li></ul> <br><h3><a id="_72"></a>解题方法：设计</h3> <br><p>哈希表可以通过一个值快速找到拎一个值，有序集合可以快速插入删除一些值并保持集合中元素的有序性。</p> <br><ul><li>创建一个哈希表，由food查询cuisine和rating；</li><li>创建一个哈希表，由cuisine查询所有使用这个cuisine的<code>(food, rating)</code>集合，集合的排序方式是rating大优先然后字典序小优先。</li></ul> <br><p>修改评分时，先由food查询出cuisine和rating，再由cuisine查询出使用这个cuisine的<code>(food, rating)</code>集合，删除旧的<code>(food, rating)</code>对，插入新的<code>(food, rating)</code>对。</p> <br><p>查询时，由cuisine查询出使用这个cuisine的<code>(food, rating)</code>集合，因为是有序的，所以集合中的第一个元素对就是我们所求。</p> <br><ul><li>时间复杂度：初始化<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>      <br>       <br>        <br>        <br>          O <br>         <br>        <br>          ( <br>         <br>        <br>          n <br>         <br>        <br>          log <br>         <br>        <br>          ⁡ <br>         <br>        <br>          n <br>         <br>        <br>          ) <br>         <br>        <br>       <br>         O(n\log n) <br>        <br>       <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mop">lo<span style="margin-right: 0.0139em;">g</span></span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span>，单次操作<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>      <br>       <br>        <br>        <br>          O <br>         <br>        <br>          ( <br>         <br>        <br>          log <br>         <br>        <br>          ⁡ <br>         <br>        <br>          n <br>         <br>        <br>          ) <br>         <br>        <br>       <br>         O(\log n) <br>        <br>       <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right: 0.0139em;">g</span></span><span class="mspace" style="margin-right: 0.1667em;"></span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span>，其中<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>      <br>       <br>        <br>        <br>          n <br>         <br>        <br>       <br>         n <br>        <br>       <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>是食物数量</li><li>空间复杂度<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>      <br>       <br>        <br>        <br>          O <br>         <br>        <br>          ( <br>         <br>        <br>          n <br>         <br>        <br>          ) <br>         <br>        <br>       <br>         O(n) <br>        <br>       <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></li></ul> <br><h4><a id="AC_86"></a>AC代码</h4> <br><h5><a id="C_88"></a>C++</h5> <br><pre><code class="prism language-cpp"><span class="token comment">/*<br> * @Author: LetMeFly<br> * @Date: 2025-02-28 11:12:40<br> * @LastEditors: LetMeFly.xyz<br> * @LastEditTime: 2025-02-28 11:29:56<br> */</span><br><span class="token keyword">class</span> <span class="token class-name">FoodRatings</span> <span class="token punctuation">{<!-- --></span><br><span class="token keyword">private</span><span class="token operator">:</span><br>    unordered_map<span class="token operator"><</span>string<span class="token punctuation">,</span> pair<span class="token operator"><</span>string<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">>></span> food2cuisineScore<span class="token punctuation">;</span>        <span class="token comment">// food->(cuisine, score)</span><br>    unordered_map<span class="token operator"><</span>string<span class="token punctuation">,</span> set<span class="token operator"><</span>pair<span class="token operator"><</span><span class="token keyword">int</span><span class="token punctuation">,</span> string<span class="token operator">>></span><span class="token operator">></span> cuisine2rscoreFood<span class="token punctuation">;</span>  <span class="token comment">// cuisine->[(-score, food), ...]</span><br><span class="token keyword">public</span><span class="token operator">:</span><br>    <span class="token function">FoodRatings</span><span class="token punctuation">(</span>vector<span class="token operator"><</span>string<span class="token operator">></span><span class="token operator">&</span> foods<span class="token punctuation">,</span> vector<span class="token operator"><</span>string<span class="token operator">></span><span class="token operator">&</span> cuisines<span class="token punctuation">,</span> vector<span class="token operator"><</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&</span> ratings<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator"><</span> foods<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            food2cuisineScore<span class="token punctuation">[</span>foods<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>cuisines<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> ratings<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br>            cuisine2rscoreFood<span class="token punctuation">[</span>cuisines<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token operator">-</span>ratings<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> foods<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br>    <br>    <span class="token keyword">void</span> <span class="token function">changeRating</span><span class="token punctuation">(</span>string food<span class="token punctuation">,</span> <span class="token keyword">int</span> newRating<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">auto</span> <span class="token punctuation">[</span>cuisine<span class="token punctuation">,</span> score<span class="token punctuation">]</span> <span class="token operator">=</span> food2cuisineScore<span class="token punctuation">[</span>food<span class="token punctuation">]</span><span class="token punctuation">;</span><br>        food2cuisineScore<span class="token punctuation">[</span>food<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span>cuisine<span class="token punctuation">,</span> newRating<span class="token punctuation">}</span><span class="token punctuation">;</span><br>        cuisine2rscoreFood<span class="token punctuation">[</span>cuisine<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token operator">-</span>score<span class="token punctuation">,</span> food<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        cuisine2rscoreFood<span class="token punctuation">[</span>cuisine<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{<!-- --></span><span class="token operator">-</span>newRating<span class="token punctuation">,</span> food<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <br>    string <span class="token function">highestRated</span><span class="token punctuation">(</span>string cuisine<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">*</span>cuisine2rscoreFood<span class="token punctuation">[</span>cuisine<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>second<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token comment">/**<br> * Your FoodRatings object will be instantiated and called as such:<br> * FoodRatings* obj = new FoodRatings(foods, cuisines, ratings);<br> * obj->changeRating(food,newRating);<br> * string param_2 = obj->highestRated(cuisine);<br> */</span><br></code></pre> <br><h5><a id="Python_129"></a>Python</h5> <br><pre><code class="prism language-python"><span class="token triple-quoted-string string">'''<br>Author: LetMeFly<br>Date: 2025-02-28 11:30:57<br>LastEditors: LetMeFly.xyz<br>LastEditTime: 2025-02-28 12:28:00<br>'''</span><br><span class="token keyword">from</span> typing <span class="token keyword">import</span> List<br><span class="token keyword">from</span> sortedcontainers <span class="token keyword">import</span> SortedList<br><span class="token keyword">from</span> collections <span class="token keyword">import</span> defaultdict<br><br><br><span class="token keyword">class</span> <span class="token class-name">FoodRatings</span><span class="token punctuation">:</span><br>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> foods<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">,</span> cuisines<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ratings<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span><br>        self<span class="token punctuation">.</span>f2cs <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>        self<span class="token punctuation">.</span>c2rf <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span>SortedList<span class="token punctuation">)</span><br>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>foods<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span><br>            self<span class="token punctuation">.</span>f2cs<span class="token punctuation">[</span>foods<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>cuisines<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> ratings<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><br>            self<span class="token punctuation">.</span>c2rf<span class="token punctuation">[</span>cuisines<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">-</span>ratings<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> foods<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><br><br>    <span class="token keyword">def</span> <span class="token function">changeRating</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> food<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> newRating<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span><br>        cuisine<span class="token punctuation">,</span> rating <span class="token operator">=</span> self<span class="token punctuation">.</span>f2cs<span class="token punctuation">[</span>food<span class="token punctuation">]</span><br>        self<span class="token punctuation">.</span>f2cs<span class="token punctuation">[</span>food<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span>cuisine<span class="token punctuation">,</span> newRating<span class="token punctuation">)</span><br>        self<span class="token punctuation">.</span>c2rf<span class="token punctuation">[</span>cuisine<span class="token punctuation">]</span><span class="token punctuation">.</span>discard<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">-</span>rating<span class="token punctuation">,</span> food<span class="token punctuation">)</span><span class="token punctuation">)</span><br>        self<span class="token punctuation">.</span>c2rf<span class="token punctuation">[</span>cuisine<span class="token punctuation">]</span><span class="token punctuation">.</span>add<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">-</span>newRating<span class="token punctuation">,</span> food<span class="token punctuation">)</span><span class="token punctuation">)</span><br><br>    <span class="token keyword">def</span> <span class="token function">highestRated</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> cuisine<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">str</span><span class="token punctuation">:</span><br>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>c2rf<span class="token punctuation">[</span>cuisine<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><br><br><br><span class="token comment"># Your FoodRatings object will be instantiated and called as such:</span><br><span class="token comment"># obj = FoodRatings(foods, cuisines, ratings)</span><br><span class="token comment"># obj.changeRating(food,newRating)</span><br><span class="token comment"># param_2 = obj.highestRated(cuisine)</span><br></code></pre> <br><h5><a id="Java_167"></a>Java</h5> <br><pre><code class="prism language-java"><span class="token comment">/*<br> * @Author: LetMeFly<br> * @Date: 2025-02-28 12:31:05<br> * @LastEditors: LetMeFly.xyz<br> * @LastEditTime: 2025-02-28 12:58:08<br> * @Say: Java是真复杂<br> */</span><br><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span></span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">TreeSet</span></span><span class="token punctuation">;</span><br><br><br><span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation"><</span><span class="token class-name">K</span> <span class="token keyword">extends</span> <span class="token class-name">Comparable</span><span class="token punctuation"><</span><span class="token class-name">K</span><span class="token punctuation">></span><span class="token punctuation">,</span> <span class="token class-name">V</span> <span class="token keyword">extends</span> <span class="token class-name">Comparable</span><span class="token punctuation"><</span><span class="token class-name">V</span><span class="token punctuation">></span><span class="token punctuation">></span></span> <span class="token keyword">implements</span> <span class="token class-name">Comparable</span><span class="token generics"><span class="token punctuation"><</span><span class="token class-name">Pair</span><span class="token punctuation"><</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">></span><span class="token punctuation">></span></span> <span class="token punctuation">{<!-- --></span><br>    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">K</span> key<span class="token punctuation">;</span><br>    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">V</span> value<span class="token punctuation">;</span><br><br>    <span class="token keyword">public</span> <span class="token class-name">Pair</span><span class="token punctuation">(</span><span class="token class-name">K</span> key<span class="token punctuation">,</span> <span class="token class-name">V</span> value<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">this</span><span class="token punctuation">.</span>key <span class="token operator">=</span> key<span class="token punctuation">;</span><br>        <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">public</span> <span class="token class-name">K</span> <span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">return</span> key<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">public</span> <span class="token class-name">V</span> <span class="token function">second</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">return</span> value<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token annotation punctuation">@Override</span><br>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation"><</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">></span></span> other<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">int</span> keyCompare <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>key<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>other<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span>keyCompare <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            <span class="token keyword">return</span> keyCompare<span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>other<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token annotation punctuation">@Override</span><br>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">return</span> <span class="token string">"Pair{"</span> <span class="token operator">+</span> <span class="token string">"key="</span> <span class="token operator">+</span> key <span class="token operator">+</span> <span class="token string">", value="</span> <span class="token operator">+</span> value <span class="token operator">+</span> <span class="token char">'}'</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><br><span class="token keyword">class</span> <span class="token class-name">FoodRatings</span> <span class="token punctuation">{<!-- --></span><br>    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation"><</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Pair</span><span class="token punctuation"><</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">></span><span class="token punctuation">></span></span> f2cr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation"><</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation"><</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">TreeSet</span><span class="token punctuation"><</span><span class="token class-name">Pair</span><span class="token punctuation"><</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span><span class="token punctuation">></span><span class="token punctuation">></span></span> c2rf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation"><</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">public</span> <span class="token class-name">FoodRatings</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> foods<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> cuisines<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ratings<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator"><</span> foods<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            f2cr<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>foods<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation"><</span><span class="token punctuation">></span></span><span class="token punctuation">(</span>cuisines<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> ratings<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            c2rf<span class="token punctuation">.</span><span class="token function">computeIfAbsent</span><span class="token punctuation">(</span>cuisines<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> k <span class="token operator">-></span> <span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation"><</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            c2rf<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>cuisines<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation"><</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token operator">-</span>ratings<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> foods<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br>    <br>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">changeRating</span><span class="token punctuation">(</span><span class="token class-name">String</span> food<span class="token punctuation">,</span> <span class="token keyword">int</span> newRating<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation"><</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">></span></span> temp <span class="token operator">=</span> f2cr<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>food<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token class-name">String</span> cuisine <span class="token operator">=</span> temp<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token keyword">int</span> rating <span class="token operator">=</span> temp<span class="token punctuation">.</span><span class="token function">second</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        f2cr<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>food<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation"><</span><span class="token punctuation">></span></span><span class="token punctuation">(</span>cuisine<span class="token punctuation">,</span> newRating<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>        <span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation"><</span><span class="token class-name">Pair</span><span class="token punctuation"><</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span><span class="token punctuation">></span></span> list <span class="token operator">=</span> c2rf<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>cuisine<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        list<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation"><</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token operator">-</span>rating<span class="token punctuation">,</span> food<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation"><</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token operator">-</span>newRating<span class="token punctuation">,</span> food<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <br>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">highestRated</span><span class="token punctuation">(</span><span class="token class-name">String</span> cuisine<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">return</span> c2rf<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>cuisine<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">second</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token comment">/**<br> * Your FoodRatings object will be instantiated and called as such:<br> * FoodRatings obj = new FoodRatings(foods, cuisines, ratings);<br> * obj.changeRating(food,newRating);<br> * String param_2 = obj.highestRated(cuisine);<br> */</span><br></code></pre> <br><blockquote> <br> <p>同步发文于<a href="https://letmefly.blog.csdn.net/article/details/145926792" rel="nofollow">CSDN</a>和我的<a href="https://blog.letmefly.xyz/" rel="nofollow">个人博客</a>，原创不易，转载经作者同意后请附上<a href="https://blog.letmefly.xyz/2025/02/28/LeetCode%202353.%E8%AE%BE%E8%AE%A1%E9%A3%9F%E7%89%A9%E8%AF%84%E5%88%86%E7%B3%BB%E7%BB%9F/" rel="nofollow">原文链接</a>哦~</p> <br> <p>千篇源码题解<a href="https://github.com/LetMeFly666/LeetCode">已开源</a></p> <br></blockquote>