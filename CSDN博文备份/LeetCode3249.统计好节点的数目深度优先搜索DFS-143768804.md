<h2><a id="LetMeFly3249DFS_1"></a>【LetMeFly】3249.统计好节点的数目：深度优先搜索(DFS)</h2> <br><p>力扣题目链接：<a href="https://leetcode.cn/problems/count-the-number-of-good-nodes/" rel="nofollow">https://leetcode.cn/problems/count-the-number-of-good-nodes/</a></p> <br><p>现有一棵 <strong>无向</strong> 树，树中包含 <code>n</code> 个节点，按从 <code>0</code> 到 <code>n - 1</code> 标记。树的根节点是节点 <code>0</code> 。给你一个长度为 <code>n - 1</code> 的二维整数数组 <code>edges</code>，其中 <code>edges[i] = [a<sub>i</sub>, b<sub>i</sub>]</code> 表示树中节点 <code>a<sub>i</sub></code> 与节点 <code>b<sub>i</sub></code> 之间存在一条边。</p> <br><p>如果一个节点的所有子节点为根的 子树 包含的节点数相同，则认为该节点是一个 <strong>好节点</strong>。</p> <br><p>返回给定树中<strong> 好节点 </strong>的数量。</p> <br><p><strong>子树</strong> 指的是一个节点以及它所有后代节点构成的一棵树。</p> <br><p> </p> <br><p> </p> <br><p><strong class="example">示例 1：</strong></p> <br><div class="example-block"> <br> <p><strong>输入：</strong><span class="example-io">edges = [[0,1],[0,2],[1,3],[1,4],[2,5],[2,6]]</span></p> <br></div> <br><p><strong>输出：</strong><span class="example-io">7</span></p> <br><p><strong>说明：</strong></p> <br><img alt="" src="https://img-home.csdnimg.cn/images/20230724024159.png?origin_url=https%3A%2F%2Fassets.leetcode.com%2Fuploads%2F2024%2F05%2F26%2Ftree1.png&pos_id=img-gth3mwAP-1731562425195%29" /> <br><p>树的所有节点都是好节点。</p> <br><p><strong class="example">示例 2：</strong></p> <br><div class="example-block"> <br> <p><strong>输入：</strong><span class="example-io">edges = [[0,1],[1,2],[2,3],[3,4],[0,5],[1,6],[2,7],[3,8]]</span></p> <br></div> <br><p><strong>输出：</strong><span class="example-io">6</span></p> <br><p><strong>说明：</strong></p> <br><img alt="" src="https://img-home.csdnimg.cn/images/20230724024159.png?origin_url=https%3A%2F%2Fassets.leetcode.com%2Fuploads%2F2024%2F06%2F03%2Fscreenshot-2024-06-03-193552.png&pos_id=img-pdnVF1hn-1731562427191%29" /> <br><p>树中有 6 个好节点。上图中已将这些节点着色。</p> <br><p><strong class="example">示例 3：</strong></p> <br><div class="example-block"> <br> <p><span class="example-io"><b>输入：</b>edges = [[0,1],[1,2],[1,3],[1,4],[0,5],[5,6],[6,7],[7,8],[0,9],[9,10],[9,12],[10,11]]</span></p> <br></div> <br><p><span class="example-io"><b>输出：</b>12</span></p> <br><p><strong>解释：</strong></p> <br><img alt="" src="https://img-home.csdnimg.cn/images/20230724024159.png?origin_url=https%3A%2F%2Fassets.leetcode.com%2Fuploads%2F2024%2F08%2F08%2Frob.jpg&pos_id=img-wC3vkXHE-1731562431790%29" /> <br><p>除了节点 9 以外其他所有节点都是好节点。</p> <br><p> </p> <br><p><strong>提示：</strong></p> <br><ul><li><code>2 <= n <= 10<sup>5</sup></code></li><li><code>edges.length == n - 1</code></li><li><code>edges[i].length == 2</code></li><li><code>0 <= a<sub>i</sub>, b<sub>i</sub> < n</code></li><li>输入确保 <code>edges</code> 总表示一棵有效的树。</li></ul> <br><h3><a id="_67"></a>解题方法：深度优先搜索</h3> <br><p>首先通过“边”建“图”，创建一个<code>graph</code>二维数组，其中<code>graph[x]</code>为所有与<code>x</code>相邻的节点。</p> <br><p>接着写一个函数<code>dfs(当前节点, 父节点)</code>，如果<code>当前节点</code>的所有子树大小<code>dfs(子节点)</code>相同，就将全局答案加一。最终返回<code>当前节点</code>为根的子树的大小。</p> <br><ul><li>时间复杂度<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>      <br>       <br>        <br>        <br>          O <br>         <br>        <br>          ( <br>         <br>        <br>          n <br>         <br>        <br>          ) <br>         <br>        <br>       <br>         O(n) <br>        <br>       <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span>，每个节点之后被<code>dfs</code>一次</li><li>空间复杂度<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>      <br>       <br>        <br>        <br>          O <br>         <br>        <br>          ( <br>         <br>        <br>          n <br>         <br>        <br>          ) <br>         <br>        <br>       <br>         O(n) <br>        <br>       <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></li></ul> <br><h4><a id="AC_76"></a>AC代码</h4> <br><h5><a id="C_78"></a>C++</h5> <br><pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span><br><span class="token keyword">private</span><span class="token operator">:</span><br>    <span class="token keyword">int</span> ans<span class="token punctuation">;</span><br>    vector<span class="token operator"><</span>vector<span class="token operator"><</span><span class="token keyword">int</span><span class="token operator">>></span> graph<span class="token punctuation">;</span><br><br>    <span class="token keyword">int</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> root<span class="token punctuation">,</span> <span class="token keyword">int</span> parent<span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><br>        <span class="token keyword">int</span> oneChild <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>        <span class="token keyword">bool</span> thisNodeOk <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><br>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> nextNode <span class="token operator">:</span> graph<span class="token punctuation">[</span>root<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            <span class="token keyword">if</span> <span class="token punctuation">(</span>nextNode <span class="token operator">==</span> parent<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>                <span class="token keyword">continue</span><span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><br>            <span class="token keyword">int</span> nextCnt <span class="token operator">=</span> <span class="token function">dfs</span><span class="token punctuation">(</span>nextNode<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">;</span><br>            cnt <span class="token operator">+=</span> nextCnt<span class="token punctuation">;</span><br>            <span class="token keyword">if</span> <span class="token punctuation">(</span>oneChild <span class="token operator">&&</span> nextCnt <span class="token operator">!=</span> oneChild<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>                thisNodeOk <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><br>            oneChild <span class="token operator">=</span> nextCnt<span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span>thisNodeOk<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            ans<span class="token operator">++</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">return</span> cnt<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token keyword">public</span><span class="token operator">:</span><br>    <span class="token keyword">int</span> <span class="token function">countGoodNodes</span><span class="token punctuation">(</span>vector<span class="token operator"><</span>vector<span class="token operator"><</span><span class="token keyword">int</span><span class="token operator">>></span><span class="token operator">&</span> edges<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>        graph<span class="token punctuation">.</span><span class="token function">resize</span><span class="token punctuation">(</span>edges<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token keyword">for</span> <span class="token punctuation">(</span>vector<span class="token operator"><</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&</span> edge <span class="token operator">:</span> edges<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            graph<span class="token punctuation">[</span>edge<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>edge<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            graph<span class="token punctuation">[</span>edge<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>edge<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>        <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br></code></pre> <br><h5><a id="Python_120"></a>Python</h5> <br><pre><code class="prism language-python"><span class="token keyword">from</span> typing <span class="token keyword">import</span> List<br><br><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span><br>    <span class="token keyword">def</span> <span class="token function">dfs</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> thisNode<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> parentNode<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token operator">=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span><br>        cnt<span class="token punctuation">,</span> oneChild<span class="token punctuation">,</span> ok <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token boolean">True</span><br>        <span class="token keyword">for</span> nextNode <span class="token keyword">in</span> self<span class="token punctuation">.</span>graph<span class="token punctuation">[</span>thisNode<span class="token punctuation">]</span><span class="token punctuation">:</span><br>            <span class="token keyword">if</span> nextNode <span class="token operator">==</span> parentNode<span class="token punctuation">:</span><br>                <span class="token keyword">continue</span><br>            nextChild <span class="token operator">=</span> self<span class="token punctuation">.</span>dfs<span class="token punctuation">(</span>nextNode<span class="token punctuation">,</span> thisNode<span class="token punctuation">)</span><br>            cnt <span class="token operator">+=</span> nextChild<br>            <span class="token keyword">if</span> <span class="token keyword">not</span> oneChild<span class="token punctuation">:</span><br>                oneChild <span class="token operator">=</span> nextChild<br>            <span class="token keyword">elif</span> oneChild <span class="token operator">!=</span> nextChild<span class="token punctuation">:</span><br>                ok <span class="token operator">=</span> <span class="token boolean">False</span><br>        <span class="token keyword">if</span> ok<span class="token punctuation">:</span><br>            self<span class="token punctuation">.</span>ans <span class="token operator">+=</span> <span class="token number">1</span><br>        <span class="token keyword">return</span> cnt<br>    <br>    <span class="token keyword">def</span> <span class="token function">countGoodNodes</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> edges<span class="token punctuation">:</span> List<span class="token punctuation">[</span>List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span><br>        self<span class="token punctuation">.</span>graph <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token keyword">for</span> _ <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>edges<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><br>        <span class="token keyword">for</span> x<span class="token punctuation">,</span> y <span class="token keyword">in</span> edges<span class="token punctuation">:</span><br>            self<span class="token punctuation">.</span>graph<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>y<span class="token punctuation">)</span><br>            self<span class="token punctuation">.</span>graph<span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>x<span class="token punctuation">)</span><br>        self<span class="token punctuation">.</span>ans <span class="token operator">=</span> <span class="token number">0</span><br>        self<span class="token punctuation">.</span>dfs<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><br>        <span class="token keyword">return</span> self<span class="token punctuation">.</span>ans<br></code></pre> <br><h5><a id="Java_151"></a>Java</h5> <br><pre><code class="prism language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span><br>    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation"><</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> graph<span class="token punctuation">;</span><br>    <span class="token keyword">private</span> <span class="token keyword">int</span> ans<span class="token punctuation">;</span><br><br>    <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span> thisNode<span class="token punctuation">,</span> <span class="token keyword">int</span> lastNode<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><br>        <span class="token keyword">int</span> oneChild <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>        <span class="token keyword">boolean</span> ok <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><br>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> nextChilld <span class="token operator">:</span> graph<span class="token punctuation">[</span>thisNode<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            <span class="token keyword">if</span> <span class="token punctuation">(</span>nextChilld <span class="token operator">==</span> lastNode<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>                <span class="token keyword">continue</span><span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><br>            <span class="token keyword">int</span> thisChild <span class="token operator">=</span> <span class="token function">dfs</span><span class="token punctuation">(</span>nextChilld<span class="token punctuation">,</span> thisNode<span class="token punctuation">)</span><span class="token punctuation">;</span><br>            cnt <span class="token operator">+=</span> thisChild<span class="token punctuation">;</span><br>            <span class="token keyword">if</span> <span class="token punctuation">(</span>oneChild <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>                oneChild <span class="token operator">=</span> thisChild<span class="token punctuation">;</span><br>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oneChild <span class="token operator">!=</span> thisChild<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>                ok <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span>ok<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            ans<span class="token operator">++</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">return</span> cnt<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">countGoodNodes</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> edges<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>        graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">[</span>edges<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>        <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">setAll</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> i <span class="token operator">-></span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation"><</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> edge <span class="token operator">:</span> edges<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            graph<span class="token punctuation">[</span>edge<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>edge<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            graph<span class="token punctuation">[</span>edge<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>edge<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>        <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br></code></pre> <br><h5><a id="Go_198"></a>Go</h5> <br><pre><code class="prism language-go"><span class="token keyword">package</span> main<br><br><span class="token comment">// import "fmt"</span><br><br><span class="token keyword">func</span> <span class="token function">countGoodNodes</span><span class="token punctuation">(</span>edges <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>ans <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>    graph <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>edges<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><br>    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> edge <span class="token operator">:=</span> <span class="token keyword">range</span> edges <span class="token punctuation">{<!-- --></span><br>        graph<span class="token punctuation">[</span>edge<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>graph<span class="token punctuation">[</span>edge<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> edge<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><br>        graph<span class="token punctuation">[</span>edge<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>graph<span class="token punctuation">[</span>edge<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> edge<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">var</span> dfs <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span><br>    dfs <span class="token operator">=</span> <span class="token keyword">func</span><span class="token punctuation">(</span>thisNode<span class="token punctuation">,</span> lastNode <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token comment">// fmt.Println(thisNode, lastNode)</span><br>        cnt<span class="token punctuation">,</span> oneChild<span class="token punctuation">,</span> ok <span class="token operator">:=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token boolean">true</span><br>        <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> nextNode <span class="token operator">:=</span> <span class="token keyword">range</span> graph<span class="token punctuation">[</span>thisNode<span class="token punctuation">]</span> <span class="token punctuation">{<!-- --></span><br>            <span class="token keyword">if</span> nextNode <span class="token operator">==</span> lastNode <span class="token punctuation">{<!-- --></span><br>                <span class="token keyword">continue</span><br>            <span class="token punctuation">}</span><br>            thisChild <span class="token operator">:=</span> <span class="token function">dfs</span><span class="token punctuation">(</span>nextNode<span class="token punctuation">,</span> thisNode<span class="token punctuation">)</span><br>            cnt <span class="token operator">+=</span> thisChild<br>            <span class="token keyword">if</span> oneChild <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{<!-- --></span><br>                oneChild <span class="token operator">=</span> thisChild<br>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> oneChild <span class="token operator">!=</span> thisChild <span class="token punctuation">{<!-- --></span><br>                ok <span class="token operator">=</span> <span class="token boolean">false</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">if</span> ok <span class="token punctuation">{<!-- --></span><br>            ans<span class="token operator">++</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">return</span> cnt<br>    <span class="token punctuation">}</span><br>    <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><br>    <span class="token keyword">return</span> ans<br><span class="token punctuation">}</span><br></code></pre> <br><blockquote> <br> <p>同步发文于CSDN和我的<a href="https://blog.letmefly.xyz/" rel="nofollow">个人博客</a>，原创不易，转载经作者同意后请附上<a href="https://blog.letmefly.xyz/2024/11/14/LeetCode%203249.%E7%BB%9F%E8%AE%A1%E5%A5%BD%E8%8A%82%E7%82%B9%E7%9A%84%E6%95%B0%E7%9B%AE/" rel="nofollow">原文链接</a>哦~</p> <br> <p>Tisfy：<a href="https://letmefly.blog.csdn.net/article/details/143768804" rel="nofollow">https://letmefly.blog.csdn.net/article/details/143768804</a></p> <br></blockquote>