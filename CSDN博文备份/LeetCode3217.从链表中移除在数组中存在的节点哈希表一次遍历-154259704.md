<h2><a id="LetMeFly3217_1"></a>【LetMeFly】3217.从链表中移除在数组中存在的节点：哈希表(一次遍历)</h2> <br><p>力扣题目链接：<a href="https://leetcode.cn/problems/delete-nodes-from-linked-list-present-in-array/" rel="nofollow">https://leetcode.cn/problems/delete-nodes-from-linked-list-present-in-array/</a></p> <br><p>给你一个整数数组 <code>nums</code> 和一个链表的头节点 <code>head</code>。从链表中<strong>移除</strong>所有存在于 <code>nums</code> 中的节点后，返回修改后的链表的头节点。</p> <br><p> </p> <br><p><strong class="example">示例 1：</strong></p> <br><div class="example-block"> <br> <p><strong>输入：</strong> <span class="example-io">nums = [1,2,3], head = [1,2,3,4,5]</span></p> <br></div><br><p><strong>输出：</strong> <span class="example-io">[4,5]</span></p> <br><p><strong>解释：</strong></p> <br><p><strong><img alt="" src="https://i-blog.csdnimg.cn/img_convert/5f205fa22e6fde0f10e1ab07673b9844.png" /></strong></p> <br><p>移除数值为 1, 2 和 3 的节点。</p> <br><p><strong class="example">示例 2：</strong></p> <br><div class="example-block"> <br> <p><strong>输入：</strong> <span class="example-io">nums = [1], head = [1,2,1,2,1,2]</span></p> <br></div><br><p><strong>输出：</strong> <span class="example-io">[2,2,2]</span></p> <br><p><strong>解释：</strong></p> <br><p><img alt="" src="https://i-blog.csdnimg.cn/img_convert/74816fb692bcbe2171e2a03bccc294ef.png" /></p> <br><p>移除数值为 1 的节点。</p> <br><p><strong class="example">示例 3：</strong></p> <br><div class="example-block"> <br> <p><strong>输入：</strong> <span class="example-io">nums = [5], head = [1,2,3,4]</span></p> <br></div><br><p><strong>输出：</strong> <span class="example-io">[1,2,3,4]</span></p> <br><p><strong>解释：</strong></p> <br><p><strong><img alt="" src="https://i-blog.csdnimg.cn/img_convert/6fcea8a9b904c1da1187ea7ef99ca6e6.png" /></strong></p> <br><p>链表中不存在值为 5 的节点。</p> <br><p> </p> <br><p><strong>提示：</strong></p> <br><ul><li><code>1 <= nums.length <= 10<sup>5</sup></code></li><li><code>1 <= nums[i] <= 10<sup>5</sup></code></li><li><code>nums</code> 中的所有元素都是唯一的。</li><li>链表中的节点数在 <code>[1, 10<sup>5</sup>]</code> 的范围内。</li><li><code>1 <= Node.val <= 10<sup>5</sup></code></li><li>输入保证链表中至少有一个值没有在 <code>nums</code> 中出现过。</li></ul> <br><h3><a id="_66"></a>解题方法：哈希表</h3> <br><p>使用哈希表记录<span class="katex--inline"><span class="katex"><span class="katex-mathml"><br>    <br>     <br>      <br>       <br>        n<br>       <br>       <br>        u<br>       <br>       <br>        m<br>       <br>       <br>        s<br>       <br>      <br>      <br>       nums<br>      <br>     <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">u</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span>中都出现了哪些元素。</p> <br><p>为了方便可以在链表第一个节点前设置一个一定不会被删除的没有实际值的“表头”，并使用两个变量<span class="katex--inline"><span class="katex"><span class="katex-mathml"><br>    <br>     <br>      <br>       <br>        l<br>       <br>       <br>        a<br>       <br>       <br>        s<br>       <br>       <br>        t<br>       <br>      <br>      <br>       last<br>      <br>     <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal" style="margin-right: 0.0197em;">l</span><span class="mord mathnormal">a</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span></span></span></span></span>和<span class="katex--inline"><span class="katex"><span class="katex-mathml"><br>    <br>     <br>      <br>       <br>        n<br>       <br>       <br>        o<br>       <br>       <br>        w<br>       <br>      <br>      <br>       now<br>      <br>     <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right: 0.0269em;">w</span></span></span></span></span>记录上一个遍历到的节点和当前节点。</p> <br><p>在<span class="katex--inline"><span class="katex"><span class="katex-mathml"><br>    <br>     <br>      <br>       <br>        n<br>       <br>       <br>        o<br>       <br>       <br>        w<br>       <br>      <br>      <br>       now<br>      <br>     <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right: 0.0269em;">w</span></span></span></span></span>不为空时，若<span class="katex--inline"><span class="katex"><span class="katex-mathml"><br>    <br>     <br>      <br>       <br>        n<br>       <br>       <br>        o<br>       <br>       <br>        w<br>       <br>      <br>      <br>       now<br>      <br>     <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right: 0.0269em;">w</span></span></span></span></span>在<span class="katex--inline"><span class="katex"><span class="katex-mathml"><br>    <br>     <br>      <br>       <br>        n<br>       <br>       <br>        u<br>       <br>       <br>        m<br>       <br>       <br>        s<br>       <br>      <br>      <br>       nums<br>      <br>     <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">u</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span></span></span></span></span>中出现过，则扔掉<span class="katex--inline"><span class="katex"><span class="katex-mathml"><br>    <br>     <br>      <br>       <br>        n<br>       <br>       <br>        o<br>       <br>       <br>        w<br>       <br>      <br>      <br>       now<br>      <br>     <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right: 0.0269em;">w</span></span></span></span></span>（更新<span class="katex--inline"><span class="katex"><span class="katex-mathml"><br>    <br>     <br>      <br>       <br>        l<br>       <br>       <br>        a<br>       <br>       <br>        s<br>       <br>       <br>        t<br>       <br>      <br>      <br>       last<br>      <br>     <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal" style="margin-right: 0.0197em;">l</span><span class="mord mathnormal">a</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span></span></span></span></span>的<span class="katex--inline"><span class="katex"><span class="katex-mathml"><br>    <br>     <br>      <br>       <br>        n<br>       <br>       <br>        e<br>       <br>       <br>        x<br>       <br>       <br>        t<br>       <br>      <br>      <br>       next<br>      <br>     <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6151em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mord mathnormal">t</span></span></span></span></span>为<span class="katex--inline"><span class="katex"><span class="katex-mathml"><br>    <br>     <br>      <br>       <br>        n<br>       <br>       <br>        o<br>       <br>       <br>        w<br>       <br>      <br>      <br>       now<br>      <br>     <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right: 0.0269em;">w</span></span></span></span></span>的<span class="katex--inline"><span class="katex"><span class="katex-mathml"><br>    <br>     <br>      <br>       <br>        n<br>       <br>       <br>        e<br>       <br>       <br>        x<br>       <br>       <br>        t<br>       <br>      <br>      <br>       next<br>      <br>     <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6151em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mord mathnormal">t</span></span></span></span></span>、<span class="katex--inline"><span class="katex"><span class="katex-mathml"><br>    <br>     <br>      <br>       <br>        n<br>       <br>       <br>        o<br>       <br>       <br>        w<br>       <br>      <br>      <br>       now<br>      <br>     <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right: 0.0269em;">w</span></span></span></span></span>后移）；否则不删<span class="katex--inline"><span class="katex"><span class="katex-mathml"><br>    <br>     <br>      <br>       <br>        n<br>       <br>       <br>        o<br>       <br>       <br>        w<br>       <br>      <br>      <br>       now<br>      <br>     <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right: 0.0269em;">w</span></span></span></span></span>（<span class="katex--inline"><span class="katex"><span class="katex-mathml"><br>    <br>     <br>      <br>       <br>        l<br>       <br>       <br>        a<br>       <br>       <br>        s<br>       <br>       <br>        t<br>       <br>      <br>      <br>       last<br>      <br>     <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal" style="margin-right: 0.0197em;">l</span><span class="mord mathnormal">a</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span></span></span></span></span>和<span class="katex--inline"><span class="katex"><span class="katex-mathml"><br>    <br>     <br>      <br>       <br>        n<br>       <br>       <br>        o<br>       <br>       <br>        w<br>       <br>      <br>      <br>       now<br>      <br>     <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right: 0.0269em;">w</span></span></span></span></span>都指向下一个节点）。</p> <br><ul><li>时间复杂度<span class="katex--inline"><span class="katex"><span class="katex-mathml"><br>     <br>      <br>       <br>        <br>         O<br>        <br>        <br>         (<br>        <br>        <br>         l<br>        <br>        <br>         e<br>        <br>        <br>         n<br>        <br>        <br>         (<br>        <br>        <br>         n<br>        <br>        <br>         u<br>        <br>        <br>         m<br>        <br>        <br>         s<br>        <br>        <br>         )<br>        <br>        <br>         +<br>        <br>        <br>         l<br>        <br>        <br>         e<br>        <br>        <br>         n<br>        <br>        <br>         (<br>        <br>        <br>         l<br>        <br>        <br>         i<br>        <br>        <br>         s<br>        <br>        <br>         t<br>        <br>        <br>         )<br>        <br>        <br>         )<br>        <br>       <br>       <br>        O(len(nums) + len(list))<br>       <br>      <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.0197em;">l</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal">u</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0197em;">l</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.0197em;">l</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mclose">))</span></span></span></span></span></li><li>空间复杂度<span class="katex--inline"><span class="katex"><span class="katex-mathml"><br>     <br>      <br>       <br>        <br>         O<br>        <br>        <br>         (<br>        <br>        <br>         l<br>        <br>        <br>         e<br>        <br>        <br>         n<br>        <br>        <br>         (<br>        <br>        <br>         n<br>        <br>        <br>         u<br>        <br>        <br>         m<br>        <br>        <br>         s<br>        <br>        <br>         )<br>        <br>        <br>         )<br>        <br>       <br>       <br>        O(len(nums))<br>       <br>      <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right: 0.0197em;">l</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal">u</span><span class="mord mathnormal">m</span><span class="mord mathnormal">s</span><span class="mclose">))</span></span></span></span></span></li></ul> <br><h4><a id="AC_77"></a>AC代码</h4> <br><h5><a id="C_79"></a>C++</h5> <br><pre><code class="prism language-cpp"><span class="token comment">/*<br> * @LastEditTime: 2025-11-01 21:54:45<br> */</span><br><br><span class="token comment">/**<br> * Definition for singly-linked list.<br> * struct ListNode {<br> *     int val;<br> *     ListNode *next;<br> *     ListNode() : val(0), next(nullptr) {}<br> *     ListNode(int x) : val(x), next(nullptr) {}<br> *     ListNode(int x, ListNode *next) : val(x), next(next) {}<br> * };<br> */</span><br><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span><br><span class="token keyword">public</span><span class="token operator">:</span><br>    ListNode<span class="token operator">*</span> <span class="token function">modifiedList</span><span class="token punctuation">(</span>vector<span class="token operator"><</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&</span> nums<span class="token punctuation">,</span> ListNode<span class="token operator">*</span> now<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        unordered_set<span class="token operator"><</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">se</span><span class="token punctuation">(</span>nums<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> nums<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        ListNode<span class="token operator">*</span> head <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">ListNode</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> now<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 不可以：ListNode* head(0, now);</span><br>        ListNode<span class="token operator">*</span> last <span class="token operator">=</span> head<span class="token punctuation">;</span><br>        <span class="token keyword">while</span> <span class="token punctuation">(</span>now<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            <span class="token keyword">if</span> <span class="token punctuation">(</span>se<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span>now<span class="token operator">-></span>val<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>                now <span class="token operator">=</span> now<span class="token operator">-></span>next<span class="token punctuation">;</span><br>                last<span class="token operator">-></span>next <span class="token operator">=</span> now<span class="token punctuation">;</span><br>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span><br>                last <span class="token operator">=</span> now<span class="token punctuation">;</span><br>                now <span class="token operator">=</span> now<span class="token operator">-></span>next<span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">return</span> head<span class="token operator">-></span>next<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br></code></pre> <br><blockquote> <br> <p>同步发文于<a href="https://letmefly.blog.csdn.net/article/details/154259704" rel="nofollow">CSDN</a>和我的<a href="https://blog.letmefly.xyz/" rel="nofollow">个人博客</a>，原创不易，转载经作者同意后请附上<a href="https://blog.letmefly.xyz/2025/11/01/LeetCode%203217.%E4%BB%8E%E9%93%BE%E8%A1%A8%E4%B8%AD%E7%A7%BB%E9%99%A4%E5%9C%A8%E6%95%B0%E7%BB%84%E4%B8%AD%E5%AD%98%E5%9C%A8%E7%9A%84%E8%8A%82%E7%82%B9/" rel="nofollow">原文链接</a>哦~</p> <br> <p>千篇源码题解<a href="https://github.com/LetMeFly666/LeetCode">已开源</a></p> <br></blockquote>