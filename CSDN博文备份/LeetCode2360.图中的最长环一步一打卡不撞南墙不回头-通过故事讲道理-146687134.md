<h2><a id="LetMeFly2360___1"></a>【LetMeFly】2360.图中的最长环：一步一打卡(不撞南墙不回头) - 通过故事讲道理</h2> <br><p>力扣题目链接：<a href="https://leetcode.cn/problems/longest-cycle-in-a-graph/" rel="nofollow">https://leetcode.cn/problems/longest-cycle-in-a-graph/</a></p> <br><p>给你一个 <code>n</code> 个节点的 <b>有向图</b> ，节点编号为 <code>0</code> 到 <code>n - 1</code> ，其中每个节点 <strong>至多</strong> 有一条出边。</p> <br><p>图用一个大小为 <code>n</code> 下标从<strong> 0</strong> 开始的数组 <code>edges</code> 表示，节点 <code>i</code> 到节点 <code>edges[i]</code> 之间有一条有向边。如果节点 <code>i</code> 没有出边，那么 <code>edges[i] == -1</code> 。</p> <br><p>请你返回图中的 <strong>最长</strong> 环，如果没有任何环，请返回 <code>-1</code> 。</p> <br><p>一个环指的是起点和终点是 <strong>同一个</strong> 节点的路径。</p> <br><p> </p> <br><p><strong>示例 1：</strong></p> <br><p><img alt="" src="https://i-blog.csdnimg.cn/img_convert/8e518767e828ddcb9120befb47a4f327.png" /></p> <br><pre><b>输入：</b>edges = [3,3,4,2,3]<br><b>输出去：</b>3<br><b>解释：</b>图中的最长环是：2 -> 4 -> 3 -> 2 。<br>这个环的长度为 3 ，所以返回 3 。<br></pre> <br><p><strong>示例 2：</strong></p> <br><p><img alt="" src="https://i-blog.csdnimg.cn/img_convert/71efa3d5a779610e5cb9d0f9d9a67451.png" /></p> <br><pre><b>输入：</b>edges = [2,-1,3,1]<br><b>输出：</b>-1<br><b>解释：</b>图中没有任何环。<br></pre> <br><p> </p> <br><p><strong>提示：</strong></p> <br><ul><li><code>n == edges.length</code></li><li><code>2 <= n <= 10<sup>5</sup></code></li><li><code>-1 <= edges[i] < n</code></li><li><code>edges[i] != i</code></li></ul> <br><h3><a id="_49"></a>解题方法：一步一打卡(不撞南墙不回头)</h3> <br><h4><a id="_51"></a>故事</h4> <br><p><font title="Tisfy">小T</font>爱跑图，她有如下爱好：</p> <br><ol><li>只跑没跑到过的景点</li><li>不撞南墙不回头(一直跑下去，直到跑到一个跑到过的景点)</li><li>爱打卡(第一次跑到一个景点，就打卡记录下“这是我解锁的第xx个城市”)</li></ol> <br><p><font title="Tisfy">小T</font>跑完所有景点，这道题就解决了。</p> <br><h4><a id="_61"></a>原理解析</h4> <br><p>这得益于每个景点最多只有一个“下一个景点”(每个节点至多有一条出边)。</p> <br><ul><li> <p>如果<font title="Tisfy">小T</font>的起点在环的任意一个位置：</p> <p><font title="Tisfy">小T</font>一定会再次回到自己的起点(然后发现这里来过了，撞到了南墙，不再继续此路线)。</p> <p>由于记录了自己的打卡记录，所以只需要判断一下上次到这里是“解锁的第几个城市”，再看看本次到这里时一共解锁了几个城市，相减就能得到这个环的长度。</p> </li><li> <p>如果<font title="Tisfy">小T</font>的起点不在环上：</p> <br>  <ul><li> <p>如果是一条单链：则要么会跑到终点后无路可走，要么会跑到一个去过的景点，<font title="Tisfy">小T</font>不再继续此路线</p> </li><li> <p>如果是一条指向一个环的链：那么终将走到环上</p> <br>    <ul><li>如果环还没有被走过，那么绕环跑一圈后就会得出环长</li><li>如果环已经被走过了，那么<font title="Tisfy">小T</font>不再继续此路线</li></ul> </li></ul> </li></ul> <br><h4><a id="_80"></a>具体实现</h4> <br><p>使用一个<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>     <br>      <br>       <br>       <br>         v <br>        <br>       <br>         i <br>        <br>       <br>         s <br>        <br>       <br>         i <br>        <br>       <br>         t <br>        <br>       <br>         e <br>        <br>       <br>         d <br>        <br>       <br>      <br>        visited <br>       <br>      <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal" style="margin-right: 0.0359em;">v</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">d</span></span></span></span></span>数组记录一下每个景点的打卡记录，使用<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>     <br>      <br>       <br>       <br>         c <br>        <br>       <br>         n <br>        <br>       <br>         t <br>        <br>       <br>      <br>        cnt <br>       <br>      <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6151em;"></span><span class="mord mathnormal">c</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span></span></span></span></span>记录即将要解锁的城市是第几个。</p> <br><p>从任意一点开始尝试，按照<font title="Tisfy">小T</font>的跑法开始模拟，遇到新城市就打卡记录并尝试继续，直到到达终点或遇到了去过的城市为止。</p> <br><p><font title="Tisfy">小T</font>停止这条路线后：</p> <br><ul><li>如果停止位置指向下一个城市(<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>      <br>       <br>        <br>        <br>          e <br>         <br>        <br>          d <br>         <br>        <br>          g <br>         <br>        <br>          e <br>         <br>        <br>          s <br>         <br>        <br>          [ <br>         <br>        <br>          i <br>         <br>        <br>          ] <br>         <br>        <br>          ≠ <br>         <br>        <br>          − <br>         <br>        <br>          1 <br>         <br>        <br>       <br>         edges[i]\neq -1 <br>        <br>       <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal">e</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right: 0.0359em;">g</span><span class="mord mathnormal">es</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height: 0.8889em; vertical-align: -0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel"></span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right: 0.2778em;"></span></span><span class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span class="mord">−</span><span class="mord">1</span></span></span></span></span>)，则说明是到达了去过的城市(而不是达到了单链的终点)</li><li>并且如果该城市的打卡记录不早于本次路线的开始时间，则说明是本次跑步过程中遇到的城市，说明有环</li></ul> <br><p>什么意思呢？<font title="Tisfy">小T</font>开始一条新的路线时，还需要记录一下新路线开始时一共打卡了多少城市。</p> <br><p>遇到了一个去过城市，如果打卡记录编号很小(不是本次路线上遇到的，而是之前经过的)，就不能说明有环。</p> <br><p>反之，如果这个去过的城市是本次线路上二次遇到的，就说明有环。</p> <br><h4><a id="_97"></a>时空复杂度分析</h4> <br><ul><li>时间复杂度<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>      <br>       <br>        <br>        <br>          O <br>         <br>        <br>          ( <br>         <br>        <br>          n <br>         <br>        <br>          ) <br>         <br>        <br>       <br>         O(n) <br>        <br>       <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></li><li>空间复杂度<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>      <br>       <br>        <br>        <br>          O <br>         <br>        <br>          ( <br>         <br>        <br>          n <br>         <br>        <br>          ) <br>         <br>        <br>       <br>         O(n) <br>        <br>       <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></li></ul> <br><h4><a id="AC_102"></a>AC代码</h4> <br><h5><a id="C_104"></a>C++</h5> <br><pre><code class="prism language-cpp"><span class="token comment">/*<br> * @Author: LetMeFly<br> * @Date: 2025-03-29 10:47:24<br> * @LastEditors: LetMeFly.xyz<br> * @LastEditTime: 2025-03-29 11:47:35<br> * @Description: AC,93.64%,86.13%<br> */</span><br><span class="token comment">/*<br>[3,3,4,2,3]<br> 0 1 2 3 4<br><br>        1<br>        ↓<br>0-----> 3 <----- 4 <br>        |        ↑<br>        ↓        |<br>        2 -------+<br>*/</span><br><br><span class="token comment">/*<br> 0  1 2 3<br>[2,-1,3,1]<br><br>0-->2-->3-->1<br><br>*/</span><br><br><span class="token comment">/*<br> 0 1 2 3  4  5<br>[5,2,3,1,-1,-1]<br><br><br>0-->5      4<br><br>   1---->2<br>    ↖ ↙<br>      3<br>*/</span><br><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span><br><span class="token keyword">public</span><span class="token operator">:</span><br>    <span class="token keyword">int</span> <span class="token function">longestCycle</span><span class="token punctuation">(</span>vector<span class="token operator"><</span><span class="token keyword">int</span><span class="token operator">></span><span class="token operator">&</span> edges<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><br>        <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><br>        vector<span class="token operator"><</span><span class="token keyword">int</span><span class="token operator">></span> <span class="token function">visited</span><span class="token punctuation">(</span>edges<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator"><</span> edges<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            <span class="token keyword">int</span> begin <span class="token operator">=</span> cnt<span class="token punctuation">,</span> x <span class="token operator">=</span> i<span class="token punctuation">;</span><br>            <span class="token keyword">while</span> <span class="token punctuation">(</span>edges<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&&</span> <span class="token operator">!</span>visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>                visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> cnt<span class="token operator">++</span><span class="token punctuation">;</span><br>                x <span class="token operator">=</span> edges<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><br>            <span class="token keyword">if</span> <span class="token punctuation">(</span>edges<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&&</span> visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">>=</span> begin<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>                ans <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> cnt <span class="token operator">-</span> visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><br><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifdef</span> <span class="token expression">_WIN32</span></span><br><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>    string s<span class="token punctuation">;</span><br>    <span class="token keyword">while</span> <span class="token punctuation">(</span>cin <span class="token operator">>></span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        vector<span class="token operator"><</span><span class="token keyword">int</span><span class="token operator">></span> v <span class="token operator">=</span> <span class="token function">stringToVector</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        Solution sol<span class="token punctuation">;</span><br>        cout <span class="token operator"><<</span> sol<span class="token punctuation">.</span><span class="token function">longestCycle</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token operator"><<</span> endl<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><br></code></pre> <br><h5><a id="Python_179"></a>Python</h5> <br><pre><code class="prism language-python"><span class="token triple-quoted-string string">'''<br>Author: LetMeFly<br>Date: 2025-03-29 14:06:24<br>LastEditors: LetMeFly.xyz<br>LastEditTime: 2025-03-29 14:09:27<br>'''</span><br><span class="token keyword">from</span> typing <span class="token keyword">import</span> List<br><br><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span><br>    <span class="token keyword">def</span> <span class="token function">longestCycle</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> edges<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">int</span><span class="token punctuation">:</span><br>        ans <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><br>        cnt <span class="token operator">=</span> <span class="token number">1</span><br>        visited <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token builtin">len</span><span class="token punctuation">(</span>edges<span class="token punctuation">)</span><br>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>edges<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span><br>            begin <span class="token operator">=</span> cnt<br>            <span class="token keyword">while</span> edges<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">and</span> <span class="token keyword">not</span> visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">:</span><br>                visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> cnt<br>                cnt <span class="token operator">+=</span> <span class="token number">1</span><br>                i <span class="token operator">=</span> edges<span class="token punctuation">[</span>i<span class="token punctuation">]</span><br>            <span class="token keyword">if</span> edges<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token keyword">and</span> visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">>=</span> begin<span class="token punctuation">:</span><br>                ans <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> cnt <span class="token operator">-</span> visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><br>        <span class="token keyword">return</span> ans<br></code></pre> <br><h5><a id="Java_206"></a>Java</h5> <br><pre><code class="prism language-java"><span class="token comment">/*<br> * @Author: LetMeFly<br> * @Date: 2025-03-29 14:10:15<br> * @LastEditors: LetMeFly.xyz<br> * @LastEditTime: 2025-03-29 14:15:56<br> */</span><br><span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{<!-- --></span><br>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">longestCycle</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> edges<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><br>        <span class="token keyword">int</span> cnt <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><br>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> visited <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>edges<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span><br>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator"><</span> edges<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            <span class="token keyword">int</span> begin <span class="token operator">=</span> cnt<span class="token punctuation">;</span><br>            <span class="token keyword">int</span> x <span class="token operator">=</span> i<span class="token punctuation">;</span><br>            <span class="token keyword">while</span> <span class="token punctuation">(</span>edges<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&&</span> visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>                visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">=</span> cnt<span class="token operator">++</span><span class="token punctuation">;</span><br>                x <span class="token operator">=</span> edges<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><br>            <span class="token keyword">if</span> <span class="token punctuation">(</span>edges<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&&</span> visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span> <span class="token operator">>=</span> begin<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>                ans <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> cnt <span class="token operator">-</span> visited<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">return</span> ans<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br></code></pre> <br><h5><a id="Go_236"></a>Go</h5> <br><pre><code class="prism language-go"><span class="token comment">/*<br> * @Author: LetMeFly<br> * @Date: 2025-03-29 14:16:26<br> * @LastEditors: LetMeFly.xyz<br> * @LastEditTime: 2025-03-29 14:18:33<br> */</span><br><span class="token keyword">package</span> main<br><br><span class="token keyword">func</span> <span class="token function">longestCycle</span><span class="token punctuation">(</span>edges <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{<!-- --></span><br>    ans <span class="token operator">:=</span> <span class="token operator">-</span><span class="token number">1</span><br>    cnt <span class="token operator">:=</span> <span class="token number">1</span><br>    visited <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>edges<span class="token punctuation">)</span><span class="token punctuation">)</span><br>    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token keyword">range</span> edges <span class="token punctuation">{<!-- --></span><br>        begin <span class="token operator">:=</span> cnt<br>        <span class="token keyword">for</span> edges<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&&</span> visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{<!-- --></span><br>            visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> cnt<br>            cnt<span class="token operator">++</span><br>            i <span class="token operator">=</span> edges<span class="token punctuation">[</span>i<span class="token punctuation">]</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">if</span> edges<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&&</span> visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">>=</span> begin <span class="token punctuation">{<!-- --></span><br>            ans <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>ans<span class="token punctuation">,</span> cnt <span class="token operator">-</span> visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">return</span> ans<br><span class="token punctuation">}</span><br></code></pre> <br><blockquote> <br> <p>同步发文于<a href="https://letmefly.blog.csdn.net/article/details/146687134" rel="nofollow">CSDN</a>和我的<a href="https://blog.letmefly.xyz/" rel="nofollow">个人博客</a>，原创不易，转载经作者同意后请附上<a href="https://blog.letmefly.xyz/2025/03/29/LeetCode%202360.%E5%9B%BE%E4%B8%AD%E7%9A%84%E6%9C%80%E9%95%BF%E7%8E%AF/" rel="nofollow">原文链接</a>哦~</p> <br> <p>千篇源码题解<a href="https://github.com/LetMeFly666/LeetCode">已开源</a></p> <br></blockquote>