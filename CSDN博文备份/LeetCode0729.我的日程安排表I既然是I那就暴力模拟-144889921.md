<h2><a id="LetMeFly729_II_1"></a>【LetMeFly】729.我的日程安排表 I：既然是I，那就暴力模拟</h2> <br><p>力扣题目链接：<a href="https://leetcode.cn/problems/my-calendar-i/" rel="nofollow">https://leetcode.cn/problems/my-calendar-i/</a></p> <br><p>实现一个 <code>MyCalendar</code> 类来存放你的日程安排。如果要添加的日程安排不会造成 <strong>重复预订</strong> ，则可以存储这个新的日程安排。</p> <br><p>当两个日程安排有一些时间上的交叉时（例如两个日程安排都在同一时间内），就会产生 <strong>重复预订</strong> 。</p> <br><p>日程可以用一对整数 <code>startTime</code> 和 <code>endTime</code> 表示，这里的时间是半开区间，即 <code>[startTime, endTime)</code>, 实数 <code>x</code> 的范围为，  <code>startTime <= x < endTime</code> 。</p> <br><p>实现 <code>MyCalendar</code> 类：</p> <br><ul><li><code>MyCalendar()</code> 初始化日历对象。</li><li><code>boolean book(int startTime, int endTime)</code> 如果可以将日程安排成功添加到日历中而不会导致重复预订，返回 <code>true</code> 。否则，返回 <code>false</code> 并且不要将该日程安排添加到日历中。</li></ul> <br><p> </p> <br><p><strong class="example">示例：</strong></p> <br><pre><strong>输入：</strong><br>["MyCalendar", "book", "book", "book"]<br>[[], [10, 20], [15, 25], [20, 30]]<br><strong>输出：</strong><br>[null, true, false, true]<br><br><strong>解释：</strong><br>MyCalendar myCalendar = new MyCalendar();<br>myCalendar.book(10, 20); // return True<br>myCalendar.book(15, 25); // return False ，这个日程安排不能添加到日历中，因为时间 15 已经被另一个日程安排预订了。<br>myCalendar.book(20, 30); // return True ，这个日程安排可以添加到日历中，因为第一个日程安排预订的每个时间都小于 20 ，且不包含时间 20 。</pre> <br><p> </p> <br><p><strong>提示：</strong></p> <br><ul><li><code>0 <= start < end <= 10<sup>9</sup></code></li><li>每个测试用例，调用 <code>book</code> 方法的次数最多不超过 <code>1000</code> 次。</li></ul> <br><h3><a id="_46"></a>解题方法：模拟</h3> <br><p>这道题是“日程安排<strong>I</strong>”，数据量是<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>     <br>      <br>       <br>       <br>         1 <br>        <br>        <br>        <br>          0 <br>         <br>        <br>          3 <br>         <br>        <br>       <br>      <br>        10^3 <br>       <br>      <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span></span>量级的，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>     <br>      <br>       <br>       <br>         O <br>        <br>       <br>         ( <br>        <br>        <br>        <br>          n <br>         <br>        <br>          2 <br>         <br>        <br>       <br>         ) <br>        <br>       <br>      <br>        O(n^2) <br>       <br>      <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.0641em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>时间复杂度的算法就能过。因此直接模拟就好了。</p> <br><p>使用一个数组或两个数组记录每次成功被预定的起止时间，对于一个新的预定，如果与历史上每个起止时间都不冲突，则记入预定数组并返回<code>true</code>；否则返回<code>false</code>。</p> <br><p>对于起止时间是<code>[s1, e1)</code>和<code>[s2, e2)</code>两个时间段，如何判断二者是否有冲突？</p> <br><blockquote> <br> <p>如果<code>e1 > s2 且 e2 > s1</code>则有冲突。</p> <br> <p>如果不理解，也可以使用下面是思路逆向推导：</p> <br> <p>两端时间没有交集说明<code>s1 >= e2 或 s2 >= e1</code>，对其取非就是了。</p> <br></blockquote> <br><ul><li>时间复杂度<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>      <br>       <br>        <br>        <br>          O <br>         <br>        <br>          ( <br>         <br>         <br>         <br>           n <br>          <br>         <br>           2 <br>          <br>         <br>        <br>          ) <br>         <br>        <br>       <br>         O(n^2) <br>        <br>       <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.0641em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>，其中<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>      <br>       <br>        <br>        <br>          n <br>         <br>        <br>       <br>         n <br>        <br>       <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span></span>是调用总次数</li><li>空间复杂度<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>      <br>       <br>        <br>        <br>          O <br>         <br>        <br>          ( <br>         <br>        <br>          n <br>         <br>        <br>          ) <br>         <br>        <br>       <br>         O(n) <br>        <br>       <br>     </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span></li></ul> <br><h4><a id="AC_63"></a>AC代码</h4> <br><h5><a id="C_65"></a>C++</h5> <br><pre><code class="prism language-cpp"><span class="token comment">/*<br> * @Author: LetMeFly<br> * @Date: 2025-01-02 16:13:40<br> * @LastEditors: LetMeFly.xyz<br> * @LastEditTime: 2025-01-02 16:15:23<br> */</span><br><span class="token keyword">class</span> <span class="token class-name">MyCalendar</span> <span class="token punctuation">{<!-- --></span><br><span class="token keyword">private</span><span class="token operator">:</span><br>    vector<span class="token operator"><</span><span class="token keyword">int</span><span class="token operator">></span> start<span class="token punctuation">,</span> end<span class="token punctuation">;</span><br><span class="token keyword">public</span><span class="token operator">:</span><br>    <span class="token function">MyCalendar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <br>    <span class="token punctuation">}</span><br>    <br>    <span class="token keyword">bool</span> <span class="token function">book</span><span class="token punctuation">(</span><span class="token keyword">int</span> startTime<span class="token punctuation">,</span> <span class="token keyword">int</span> endTime<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator"><</span> start<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>end<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator"><=</span> startTime <span class="token operator">||</span> endTime <span class="token operator"><=</span> start<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>        start<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>startTime<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        end<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>endTime<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token comment">/**<br> * Your MyCalendar object will be instantiated and called as such:<br> * MyCalendar* obj = new MyCalendar();<br> * bool param_1 = obj->book(startTime,endTime);<br> */</span><br></code></pre> <br><h5><a id="Python_101"></a>Python</h5> <br><pre><code class="prism language-python"><span class="token triple-quoted-string string">'''<br>Author: LetMeFly<br>Date: 2025-01-02 16:16:58<br>LastEditors: LetMeFly.xyz<br>LastEditTime: 2025-01-02 16:22:15<br>'''</span><br><span class="token comment"># 产生交集：!(e1 <= s2 || e2 <= s1) 等价于 e1 > s2 && e2 > s1</span><br><span class="token keyword">class</span> <span class="token class-name">MyCalendar</span><span class="token punctuation">:</span><br><br>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span><br>        self<span class="token punctuation">.</span>bookList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><br><br>    <span class="token keyword">def</span> <span class="token function">book</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> startTime<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">,</span> endTime<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token builtin">bool</span><span class="token punctuation">:</span><br>        <span class="token keyword">if</span> <span class="token builtin">any</span><span class="token punctuation">(</span>e <span class="token operator">></span> startTime <span class="token keyword">and</span> endTime <span class="token operator">></span> s <span class="token keyword">for</span> s<span class="token punctuation">,</span> e <span class="token keyword">in</span> self<span class="token punctuation">.</span>bookList<span class="token punctuation">)</span><span class="token punctuation">:</span><br>            <span class="token keyword">return</span> <span class="token boolean">False</span><br>        self<span class="token punctuation">.</span>bookList<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>startTime<span class="token punctuation">,</span> endTime<span class="token punctuation">)</span><span class="token punctuation">)</span><br>        <span class="token keyword">return</span> <span class="token boolean">True</span><br><br><br><span class="token comment"># Your MyCalendar object will be instantiated and called as such:</span><br><span class="token comment"># obj = MyCalendar()</span><br><span class="token comment"># param_1 = obj.book(startTime,endTime)</span><br></code></pre> <br><h5><a id="Java_128"></a>Java</h5> <br><pre><code class="prism language-java"><span class="token comment">/*<br> * @Author: LetMeFly<br> * @Date: 2025-01-02 16:22:47<br> * @LastEditors: LetMeFly.xyz<br> * @LastEditTime: 2025-01-02 16:27:07<br> */</span><br><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">MyCalendar</span> <span class="token punctuation">{<!-- --></span><br>    <span class="token keyword">private</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation"><</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> start<span class="token punctuation">,</span> end<span class="token punctuation">;</span><br><br>    <span class="token keyword">public</span> <span class="token class-name">MyCalendar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        start <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation"><</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        end <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation"><</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <br>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">book</span><span class="token punctuation">(</span><span class="token keyword">int</span> startTime<span class="token punctuation">,</span> <span class="token keyword">int</span> endTime<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator"><</span> start<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            <span class="token keyword">if</span> <span class="token punctuation">(</span>end<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">></span> startTime <span class="token operator">&&</span> endTime <span class="token operator">></span> start<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><br>        start<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>startTime<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        end<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>endTime<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token comment">/**<br> * Your MyCalendar object will be instantiated and called as such:<br> * MyCalendar obj = new MyCalendar();<br> * boolean param_1 = obj.book(startTime,endTime);<br> */</span><br></code></pre> <br><h5><a id="Go_166"></a>Go</h5> <br><pre><code class="prism language-go"><span class="token comment">/*<br> * @Author: LetMeFly<br> * @Date: 2025-01-02 16:27:36<br> * @LastEditors: LetMeFly.xyz<br> * @LastEditTime: 2025-01-02 16:32:36<br> */</span><br><span class="token keyword">package</span> main<br><br><span class="token keyword">type</span> pair <span class="token keyword">struct</span><span class="token punctuation">{<!-- --></span> start<span class="token punctuation">,</span> end <span class="token builtin">int</span> <span class="token punctuation">}</span><br><span class="token keyword">type</span> MyCalendar <span class="token punctuation">[</span><span class="token punctuation">]</span>pair<br><br><br><span class="token keyword">func</span> <span class="token function">Constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> MyCalendar <span class="token punctuation">{<!-- --></span><br>    <span class="token keyword">return</span> MyCalendar<span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><br><span class="token keyword">func</span> <span class="token punctuation">(</span>this <span class="token operator">*</span>MyCalendar<span class="token punctuation">)</span> <span class="token function">Book</span><span class="token punctuation">(</span>startTime <span class="token builtin">int</span><span class="token punctuation">,</span> endTime <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{<!-- --></span><br>    <span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> p <span class="token operator">:=</span> <span class="token keyword">range</span> <span class="token operator">*</span>this <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">if</span> endTime <span class="token operator">></span> p<span class="token punctuation">.</span>start <span class="token operator">&&</span> p<span class="token punctuation">.</span>end <span class="token operator">></span> startTime <span class="token punctuation">{<!-- --></span><br>            <span class="token keyword">return</span> <span class="token boolean">false</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br>    <span class="token operator">*</span>this <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span><span class="token operator">*</span>this<span class="token punctuation">,</span> pair<span class="token punctuation">{<!-- --></span>startTime<span class="token punctuation">,</span> endTime<span class="token punctuation">}</span><span class="token punctuation">)</span><br>    <span class="token keyword">return</span> <span class="token boolean">true</span><br><span class="token punctuation">}</span><br><br><br><span class="token comment">/**<br> * Your MyCalendar object will be instantiated and called as such:<br> * obj := Constructor();<br> * param_1 := obj.Book(startTime,endTime);<br> */</span><br></code></pre> <br><blockquote> <br> <p>同步发文于CSDN和我的<a href="https://blog.letmefly.xyz/" rel="nofollow">个人博客</a>，原创不易，转载经作者同意后请附上<a href="https://blog.letmefly.xyz/2025/01/02/LeetCode%200729.%E6%88%91%E7%9A%84%E6%97%A5%E7%A8%8B%E5%AE%89%E6%8E%92%E8%A1%A8I/" rel="nofollow">原文链接</a>哦~</p> <br> <p>Tisfy：<a href="https://letmefly.blog.csdn.net/article/details/144889921" rel="nofollow">https://letmefly.blog.csdn.net/article/details/144889921</a></p> <br></blockquote>