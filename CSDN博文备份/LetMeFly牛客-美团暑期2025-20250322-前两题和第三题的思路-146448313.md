<h2><a id="LetMeFly202520250322_2"></a>【LetMeFly】牛客-美团暑期2025-20250322-前两题和第三题的思路</h2> <br><p>第三题刚开始想复杂了，后面想到了个思路但是没来得及实现。</p> <br><h3><a id="_6"></a>一：对称回文串</h3> <br><p>标签：<a href="https://blog.letmefly.xyz/tags/%E5%9B%9E%E6%96%87%E4%B8%B2/" rel="nofollow">回文串</a></p> <br><h4><a id="_10"></a>题目描述</h4> <br><p>判断一个字符串有多少个长度大于1的<code>对称回文子串</code>。</p> <br><p>一个字符串为对称回文串当且仅当：</p> <br><ul><li>该字符串为回文串</li><li>该字符串只由字母<code>AHIMOTUVWXY</code>组成</li></ul> <br><p>数据范围：字符串长度不超过<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>     <br>      <br>       <br>       <br>         100 <br>        <br>       <br>      <br>        100 <br>       <br>      <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">100</span></span></span></span></span></p> <br><h4><a id="_21"></a>解题思路</h4> <br><p><span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>     <br>      <br>       <br>       <br>         O <br>        <br>       <br>         ( <br>        <br>        <br>        <br>          n <br>         <br>        <br>          2 <br>         <br>        <br>       <br>         ) <br>        <br>       <br>      <br>        O(n^2) <br>       <br>      <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 1.0641em; vertical-align: -0.25em;"></span><span class="mord mathnormal" style="margin-right: 0.0278em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>枚举每个字符串子串，判断当前字符串是否为<code>对称回文串</code>。</p> <br><h4><a id="AC_25"></a>AC代码</h4> <br><pre><code class="prism language-cpp"><span class="token comment">/*<br> * @Author: LetMeFly<br> * @Date: 2025-03-22 19:14:07<br> * @LastEditors: LetMeFly.xyz<br> * @LastEditTime: 2025-03-22 19:25:02<br> */</span><br><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string"><bits/stdc++.h></span></span><br><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><br><br><span class="token keyword">inline</span> <span class="token keyword">bool</span> <span class="token function">isOk</span><span class="token punctuation">(</span><span class="token keyword">char</span> c<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>    <span class="token keyword">static</span> <span class="token keyword">const</span> string okList <span class="token operator">=</span> <span class="token string">"AHIMOTUVWXY"</span><span class="token punctuation">;</span><br>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> ok <span class="token operator">:</span> okList<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">==</span> ok<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">bool</span> <span class="token function">isOk</span><span class="token punctuation">(</span>string s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> c <span class="token operator">:</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isOk</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator"><</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span>s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> s<span class="token punctuation">[</span>s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">int</span> <span class="token function">solve</span><span class="token punctuation">(</span>string s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>    <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator"><</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator"><</span> s<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">// 长度大于1</span><br>            <span class="token keyword">bool</span> thisIsOk <span class="token operator">=</span> <span class="token function">isOk</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j <span class="token operator">-</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            ans <span class="token operator">+=</span> thisIsOk<span class="token punctuation">;</span><br>            <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifdef</span> <span class="token expression">_WIN32</span></span><br>                <span class="token keyword">if</span> <span class="token punctuation">(</span>thisIsOk<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>                    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"i = %d, j = %d, s.substr(%d, %d) = %s : OK\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> s<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">c_str</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>                <span class="token punctuation">}</span><br>            <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">return</span> ans<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifdef</span> <span class="token expression">_WIN32</span></span><br>    vector<span class="token operator"><</span>string<span class="token operator">></span> S <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token string">"AHHAMTT"</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br>    vector<span class="token operator"><</span><span class="token keyword">int</span><span class="token operator">></span> ANS <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator"><</span> S<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token function">solve</span><span class="token punctuation">(</span>S<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        cout <span class="token operator"><<</span> S<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator"><<</span> <span class="token string">": "</span> <span class="token operator"><<</span> ans <span class="token operator"><<</span> endl<span class="token punctuation">;</span><br>        <span class="token function">assert</span><span class="token punctuation">(</span>ans <span class="token operator">==</span> ANS<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">else</span></span><br>    string s<span class="token punctuation">;</span><br>    cin <span class="token operator">>></span> s<span class="token punctuation">;</span><br>    cout <span class="token operator"><<</span> <span class="token function">solve</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator"><<</span> endl<span class="token punctuation">;</span><br><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><br>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br></code></pre> <br><h3><a id="_95"></a>二：下一个更大元素</h3> <br><p>标签：<a href="https://blog.letmefly.xyz/tags/%E6%9A%B4%E5%8A%9B/" rel="nofollow">暴力</a><a href="https://blog.letmefly.xyz/tags/%E6%A8%A1%E6%8B%9F/" rel="nofollow">模拟</a></p> <br><h4><a id="_99"></a>题目描述</h4> <br><p>判断一个“全排列”的数组有多少个长度为奇数的子数组满足：</p> <br><blockquote> <br> <p>数组最中间的元素正好为数组的中位数</p> <br></blockquote> <br><p>数据范围：单个测试用例多组输入字符串总长度不超过<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>     <br>      <br>       <br>       <br>         1 <br>        <br>        <br>        <br>          0 <br>         <br>        <br>          4 <br>         <br>        <br>       <br>      <br>        10^4 <br>       <br>      <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span></span></span></span></span></p> <br><h4><a id="_107"></a>解题思路</h4> <br><p>本来想着先暴力一波看看能得多少分，结果就AC了，并且只用了84ms。</p> <br><h4><a id="AC_111"></a>AC代码</h4> <br><pre><code class="prism language-cpp"><span class="token comment">/*<br> * @Author: LetMeFly<br> * @Date: 2025-03-22 19:30:14<br> * @LastEditors: LetMeFly.xyz<br> * @LastEditTime: 2025-03-22 19:36:56<br> */</span><br><span class="token comment">// 诶，不是哥们，还没利用“排列中数各不相同的性质”呢，咋就84ms然后AC了</span><br><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string"><bits/stdc++.h></span></span><br><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><br><br><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token number">10010</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><br><span class="token keyword">int</span> <span class="token function">solve</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>    <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> start <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> start <span class="token operator"><</span> n<span class="token punctuation">;</span> start<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">int</span> lt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> gt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><br>        ans<span class="token operator">++</span><span class="token punctuation">;</span><br>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> start <span class="token operator">-</span> i <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&&</span> start <span class="token operator">+</span> i <span class="token operator"><</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>start <span class="token operator">-</span> i<span class="token punctuation">]</span> <span class="token operator">></span> a<span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>                gt<span class="token operator">++</span><span class="token punctuation">;</span><br>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span><br>                lt<span class="token operator">++</span><span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><br>            <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>start <span class="token operator">+</span> i<span class="token punctuation">]</span> <span class="token operator">></span> a<span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>                gt<span class="token operator">++</span><span class="token punctuation">;</span><br>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span><br>                lt<span class="token operator">++</span><span class="token punctuation">;</span><br>            <span class="token punctuation">}</span><br>            ans <span class="token operator">+=</span> lt <span class="token operator">==</span> gt<span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">return</span> ans<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>    <span class="token keyword">int</span> T<span class="token punctuation">;</span><br>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&</span>T<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">while</span> <span class="token punctuation">(</span>T<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">int</span> n<span class="token punctuation">;</span><br>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator"><</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span> <span class="token operator">&</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token function">solve</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> ans<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br></code></pre> <br><h3><a id="_164"></a>三：移动的机器人最终停在哪里</h3> <br><p>标签：<a href="https://blog.letmefly.xyz/tags/%E6%A8%A1%E6%8B%9F/" rel="nofollow">模拟</a></p> <br><h4><a id="_168"></a>题目描述</h4> <br><p>共n个位置机器人初始位置在<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>     <br>      <br>       <br>       <br>         k <br>        <br>       <br>      <br>        k <br>       <br>      <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6944em;"></span><span class="mord mathnormal" style="margin-right: 0.0315em;">k</span></span></span></span></span>，问机器人执行完指令可能停在哪些位置。</p> <br><p>指令执行方式为：</p> <br><blockquote> <br> <p>一个指令字符串，一个字符为一个指令。</p> <br> <p>字符<code>L</code>表示机器人向左移动一个位置，<code>R</code>表示向右移动一个位置，<code>?</code>表示既可以向左移动一个位置又可以向右移动一个位置。</p> <br> <p>若机器人达到了边界的位置无法向目标方向移动，则停在原地。</p> <br></blockquote> <br><p>数据范围<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>     <br>      <br>       <br>       <br>         1 <br>        <br>        <br>        <br>          0 <br>         <br>        <br>          6 <br>         <br>        <br>       <br>      <br>        10^6 <br>       <br>      <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span></span></span></span></span></p> <br><h4><a id="_182"></a>解题思路</h4> <br><p>假设位置有无限多个，那么不论移动多少次，最终的可能位置要么全是奇数，要么全是偶数：</p> <br><blockquote> <br> <p>例如初始位置是5，移动一次可能到4或6（都是偶数）</p> <br> <p>移动两次可能到3或5或7（都是奇数）</p> <br></blockquote> <br><p>除非移动到了边界可能导致终点既有可能奇数又可能有偶数。</p> <br><p>因此可以使用如下结构：</p> <br><pre><code class="prism language-cpp"><span class="token keyword">struct</span> <span class="token class-name">Range</span> <span class="token punctuation">{<!-- --></span><br>    <span class="token keyword">int</span> start<span class="token punctuation">,</span> end<span class="token punctuation">;</span><br><br>    <span class="token function">Range</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">start</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">end</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br></code></pre> <br><p>那么<code>vector<Range></code>则表示所有终点的可能范围，其中<code>Range</code>为<code>start=3, end=7</code>的话代表终点范围可能是<code>3, 5, 7</code>。</p> <br><p>每次移动都更新所有可以到达的终点。并合并。</p> <br><blockquote> <br> <p>为什么要合并呢</p> <br> <blockquote> <br>  <p>因为不合并的话，最终的合法终点范围可能会越来越多，并且有重复现象。</p> <br> </blockquote> <br> <p>怎么个合并法呢？</p> <br> <blockquote> <br>  <p>例如有段范围表示<code>1, 3, 5, 7</code>，有段范围表示<code>3, 5, 7, 9</code>，那么它们就可以合并为<code>1, 3, 5, 7, 9</code>（使用<code>Range(1, 9)</code>表示即可）</p> <br> </blockquote> <br> <p>具体怎么做？</p> <br> <blockquote> <br>  <p>可以奇偶分开合并。例如对于奇数：先将位置排序，然后判断下一个位置和上一个位置是否重复或可拼接，若能拼接则合并之。</p> <br> </blockquote> <br></blockquote> <br><p>没有具体验证，由于最多存在：开头、中间、结尾的奇数和偶数等有限个“终点可达区间”，所以每次都合并的话似乎区间个数不会超过<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>     <br>      <br>       <br>       <br>         6 <br>        <br>       <br>      <br>        6 <br>       <br>      <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.6444em;"></span><span class="mord">6</span></span></span></span></span>，<span class="katex--inline"><span class="katex"><span class="katex-mathml"> <br>     <br>      <br>       <br>       <br>         6 <br>        <br>       <br>         × <br>        <br>       <br>         1 <br>        <br>        <br>        <br>          0 <br>         <br>        <br>          6 <br>         <br>        <br>       <br>      <br>        6\times 10^6 <br>       <br>      <br>    </span><span class="katex-html"><span class="base"><span class="strut" style="height: 0.7278em; vertical-align: -0.0833em;"></span><span class="mord">6</span><span class="mspace" style="margin-right: 0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.2222em;"></span></span><span class="base"><span class="strut" style="height: 0.8141em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.8141em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span></span></span></span></span>在合理范围内。</p> <br><h4><a id="WA_220"></a>WA代码</h4> <br><p>嗐，没写完时间就到了，还好在没合并的时候就交了一版，过了<code>%20</code>。</p> <br><pre><code class="prism language-cpp"><span class="token comment">/*<br> * @Author: LetMeFly<br> * @Date: 2025-03-22 20:15:56<br> * @LastEditors: LetMeFly.xyz<br> * @LastEditTime: 2025-03-22 20:38:50<br> */</span><br><br><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string"><bits/stdc++.h></span></span><br><br><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><br><br><br><span class="token keyword">struct</span> <span class="token class-name">Range</span> <span class="token punctuation">{<!-- --></span><br>    <span class="token keyword">int</span> start<span class="token punctuation">,</span> end<span class="token punctuation">;</span><br><br>    <span class="token function">Range</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">start</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">end</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token keyword">int</span> n<span class="token punctuation">,</span> k<span class="token punctuation">;</span><br>string s<span class="token punctuation">;</span><br>vector<span class="token operator"><</span>Range<span class="token operator">></span> OkList<span class="token punctuation">;</span><br><span class="token keyword">bool</span> a<span class="token punctuation">[</span><span class="token number">1000010</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{<!-- --></span><span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><br><br><span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>    <span class="token keyword">for</span> <span class="token punctuation">(</span>Range<span class="token operator">&</span> r <span class="token operator">:</span> OkList<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> r<span class="token punctuation">.</span>start<span class="token punctuation">;</span> i <span class="token operator"><=</span> r<span class="token punctuation">.</span>end<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator"><=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token function">putchar</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token char">'1'</span> <span class="token operator">:</span> <span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br>vector<span class="token operator"><</span>Range<span class="token operator">></span> <span class="token function">genOdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>    vector<span class="token operator"><</span>Range<span class="token operator">></span> ans<span class="token punctuation">;</span><br>    <span class="token keyword">for</span> <span class="token punctuation">(</span>Range r <span class="token operator">:</span> OkList<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span>r<span class="token punctuation">.</span>start <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">return</span> ans<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br>vector<span class="token operator"><</span>Range<span class="token operator">></span> <span class="token function">genEven</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>    vector<span class="token operator"><</span>Range<span class="token operator">></span> ans<span class="token punctuation">;</span><br>    <span class="token keyword">for</span> <span class="token punctuation">(</span>Range r <span class="token operator">:</span> OkList<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span>r<span class="token punctuation">.</span>start <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">return</span> ans<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br>vector<span class="token operator"><</span>Range<span class="token operator">></span> <span class="token function">mergeOddOrEven</span><span class="token punctuation">(</span>vector<span class="token operator"><</span>Range<span class="token operator">></span><span class="token operator">&</span> odd<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span>  <span class="token comment">// 全是奇数或全是偶数</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>odd<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">return</span> <span class="token punctuation">{<!-- --></span><span class="token punctuation">}</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    vector<span class="token operator"><</span>Range<span class="token operator">></span> ans<span class="token punctuation">;</span><br>    <span class="token keyword">int</span> l <span class="token operator">=</span> odd<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>start<span class="token punctuation">,</span> r <span class="token operator">=</span> odd<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>end<span class="token punctuation">;</span><br>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator"><=</span> odd<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> odd<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> odd<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>start <span class="token operator">></span> r <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            ans<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">Range</span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            l <span class="token operator">=</span> odd<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>start<span class="token punctuation">,</span> r <span class="token operator">=</span> odd<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>end<span class="token punctuation">;</span><br>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{<!-- --></span><br>            r <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>r<span class="token punctuation">,</span> odd<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br>    <span class="token keyword">return</span> ans<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><br><span class="token keyword">void</span> <span class="token function">mergeList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>    vector<span class="token operator"><</span>Range<span class="token operator">></span> odd <span class="token operator">=</span> <span class="token function">genOdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    vector<span class="token operator"><</span>Range<span class="token operator">></span> even <span class="token operator">=</span> <span class="token function">genEven</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    OkList <span class="token operator">=</span> <span class="token function">mergeOddOrEven</span><span class="token punctuation">(</span>odd<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">for</span> <span class="token punctuation">(</span>Range r <span class="token operator">:</span> <span class="token function">mergeOddOrEven</span><span class="token punctuation">(</span>even<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        OkList<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">void</span> <span class="token function">left</span><span class="token punctuation">(</span>vector<span class="token operator"><</span>Range<span class="token operator">></span><span class="token operator">&</span> leftOk<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>    <span class="token keyword">for</span> <span class="token punctuation">(</span>Range r <span class="token operator">:</span> OkList<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">int</span> left <span class="token operator">=</span> r<span class="token punctuation">.</span>start<span class="token punctuation">;</span><br>        <span class="token keyword">int</span> right <span class="token operator">=</span> r<span class="token punctuation">.</span>end<span class="token punctuation">;</span><br>        left<span class="token operator">--</span><span class="token punctuation">;</span><br>        right<span class="token operator">--</span><span class="token punctuation">;</span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            leftOk<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">Range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            left <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator"><=</span> right<span class="token punctuation">)</span>  <span class="token punctuation">{<!-- --></span><br>            leftOk<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">Range</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">void</span> <span class="token function">right</span><span class="token punctuation">(</span>vector<span class="token operator"><</span>Range<span class="token operator">></span><span class="token operator">&</span> leftOk<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>    <span class="token keyword">for</span> <span class="token punctuation">(</span>Range<span class="token operator">&</span> r <span class="token operator">:</span> OkList<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        <span class="token keyword">int</span> left <span class="token operator">=</span> r<span class="token punctuation">.</span>start<span class="token punctuation">;</span><br>        <span class="token keyword">int</span> right <span class="token operator">=</span> r<span class="token punctuation">.</span>end<span class="token punctuation">;</span><br>        left<span class="token operator">++</span><span class="token punctuation">;</span><br>        right<span class="token operator">++</span><span class="token punctuation">;</span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span>right <span class="token operator">==</span> n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            leftOk<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">Range</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>            right <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator"><=</span> right<span class="token punctuation">)</span>  <span class="token punctuation">{<!-- --></span><br>            leftOk<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">Range</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> right<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token comment">/*<br>3 2<br>RL?<br><br>010<br>*/</span><br><br><span class="token comment">/*<br>5 2<br>?????<br><br>11111<br>*/</span><br><br><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>    cin <span class="token operator">>></span> n <span class="token operator">>></span> k<span class="token punctuation">;</span><br>    cin <span class="token operator">>></span> s<span class="token punctuation">;</span><br>    OkList<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token function">Range</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <br>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> c <span class="token operator">:</span> s<span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>        vector<span class="token operator"><</span>Range<span class="token operator">></span> nextOk<span class="token punctuation">;</span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">==</span> <span class="token char">'L'</span> <span class="token operator">||</span> c <span class="token operator">==</span> <span class="token char">'?'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            <span class="token function">left</span><span class="token punctuation">(</span>nextOk<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">==</span> <span class="token char">'R'</span> <span class="token operator">||</span> c <span class="token operator">==</span> <span class="token char">'?'</span><span class="token punctuation">)</span> <span class="token punctuation">{<!-- --></span><br>            <span class="token function">right</span><span class="token punctuation">(</span>nextOk<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>        OkList <span class="token operator">=</span> <span class="token function">move</span><span class="token punctuation">(</span>nextOk<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token function">mergeList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br></code></pre> <br><h3><a id="End_376"></a>End</h3> <br><blockquote> <br> <p>同步发文于<a href="https://letmefly.blog.csdn.net/article/details/146448313" rel="nofollow">CSDN</a>和我的<a href="https://blog.letmefly.xyz/" rel="nofollow">个人博客</a>，原创不易，转载经作者同意后请附上<a href="https://blog.letmefly.xyz/2025/03/22/Nowcoder-MeiTuan-Summer2025-20250322/" rel="nofollow">原文链接</a>哦~</p> <br> <p>千篇源码题解<a href="https://github.com/LetMeFly666/LeetCode">已开源</a></p> <br></blockquote>